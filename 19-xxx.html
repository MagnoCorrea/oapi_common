<h1></h1>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td></td>
</tr>
<tr class="even">
<td><p><strong>Open Geospatial Consortium</strong></p></td>
</tr>
<tr class="odd">
<td><p>Submission Date: &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr class="even">
<td><p>Approval Date:   &lt;yyyy-mm-dd&gt;</p></td>
</tr>
<tr class="odd">
<td><p>Publication Date:   2019-09-04</p></td>
</tr>
<tr class="even">
<td><p>External identifier of this OGC® document: <a href="http://www.opengis.net/doc/IS/ogcapi-common/0.3">http://www.opengis.net/doc/IS/ogcapi-common/0.3</a></p></td>
</tr>
<tr class="odd">
<td><p>Internal reference number of this OGC® document:    YY-nnnrx</p></td>
</tr>
<tr class="even">
<td><p>Version: 0.0.3</p></td>
</tr>
<tr class="odd">
<td><p>Category: OGC® Implementation Specification</p></td>
</tr>
<tr class="even">
<td><p>Editor:   Charles Heazel</p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>OGC API-Common</strong></p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Copyright notice</strong></p></td>
</tr>
<tr class="even">
<td><p>Copyright © 2019 Open Geospatial Consortium</p></td>
</tr>
<tr class="odd">
<td><p>To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/">http://www.opengeospatial.org/legal/</a></p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Warning</strong></p></td>
</tr>
</tbody>
</table>
<p>This document is not an OGC Standard. This document is distributed for review and comment. This document is subject to change without notice and may not be referred to as an OGC Standard.</p>
<p>Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>Document type:    OGC®ImplementationSpecification</p></td>
</tr>
<tr class="even">
<td><p>Document stage:    Draft</p></td>
</tr>
<tr class="odd">
<td><p>Document language:  English</p></td>
</tr>
</tbody>
</table>
<p>License Agreement</p>
<p>Permission is hereby granted by the Open Geospatial Consortium, (&quot;Licensor&quot;), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</p>
<p>If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</p>
<p>THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</p>
<p>THE INTELLECTUAL PROPERTY IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</p>
<p>This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</p>
<p>Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications. This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it.</p>
<h1 id="_introduction">Introduction</h1>
<p><strong>i. Abstract</strong></p>
<p>The OGC has extended their suite of standards to include Resource Oriented Architectures and Web APIs. In the course of developing these standards, some practices proved to be common accross all OGC API standards. The purpose of this standard is to document those practices. It also serves as a common foundation upon which all OGC APIs will be built. As such, this OGC API Common standard serves as the &quot;OWS Common&quot; standard for OGC Resource Oriented APIs.</p>
<p>An OGC API provides a lighweight interface to access one or more resources. The resources addressed by OGC APIs fall into three categories; Foundation Resources, Spatial Resources, and Information Resources. These Resource Catagories are described in section <a href="#core-overview">7 Requirement Class &quot;Core&quot;</a>.</p>
<p>The API-Common standard defines resources and access paths that are supported by all OGC APIs. These are listed in <a href="#tldnr">Table 1</a>.</p>
<table>
<caption>Overview of Resources</caption>
<colgroup>
<col style="width: 32%" />
<col style="width: 23%" />
<col style="width: 15%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="header">
<th>Resource</th>
<th>Path</th>
<th>HTTP Method</th>
<th>Document Reference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Landing page</p></td>
<td><p><code>/</code></p></td>
<td><p>GET</p></td>
<td><p><a href="#_api_landing_page">7.2.1 API Landing Page</a></p></td>
</tr>
<tr class="even">
<td><p>API definition</p></td>
<td><p><code>/api</code></p></td>
<td><p>GET</p></td>
<td><p><a href="#_api_definition">7.2.2 API Definition</a></p></td>
</tr>
<tr class="odd">
<td><p>Conformance classes</p></td>
<td><p><code>/conformance</code></p></td>
<td><p>GET</p></td>
<td><p><a href="#_declaration_of_conformance_classes">7.2.3 Declaration of Conformance Classes</a></p></td>
</tr>
<tr class="even">
<td><p>Collections metadata</p></td>
<td><p><code>/collections</code></p></td>
<td><p>GET</p></td>
<td><p><a href="#_collections_metadata">8.2.1 Collections Metadata</a></p></td>
</tr>
</tbody>
</table>
<p>The resources identified in Table 1 primarily support Discovery operations. Discovery operations allow clients the interrogate the API to determine its capabilities and retrieve information (metadata) about this distribution of the resource. This includes the API definition of the server(s) as well as metadata about the resources provided by those servers.</p>
<p>This standard also defines common Query operations for OGC APIs. Query operations allow resources or values extracted from those resources to be retrieved from the underlying data store. The information to be returned is based upon selection criteria (query string) provided by the client. This standard only defines simple query parameters which should be applicable to all resource types. Other OGC API standards may define additional query capabilities specific to their resource type.</p>
<p><strong>ii. Keywords</strong></p>
<p>The following are keywords to be used by search engines and document catalogues.</p>
<p>ogcdoc, OGC document, property, geographic information, spatial data, spatial things, dataset, distribution, API, geojson, html, OpenAPI, AsyncAPI, REST, Common</p>
<p><strong>iii. Preface</strong></p>
<p><strong>OGC Declaration</strong></p>
<p>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</p>
<p>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</p>
<p><strong>iv. Submitting organizations</strong></p>
<p>The following organizations submitted this Document to the Open Geospatial Consortium (OGC):</p>
<ul>
<li><p>Heazeltech LLC</p></li>
<li><p>others TBD</p></li>
</ul>
<p><strong>v. Submitters</strong></p>
<p>All questions regarding this submission should be directed to the editors or the submitters:</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Name</strong></p></td>
<td><p><strong>Affiliation</strong></p></td>
</tr>
<tr class="even">
<td><p>Chuck Heazel <em>(editor)</em></p></td>
<td><p>Heazeltech</p></td>
</tr>
<tr class="odd">
<td><p>others</p></td>
<td><p>TBD</p></td>
</tr>
</tbody>
</table>
<h1 id="_scope">Scope</h1>
<p>This specification identifies resources, captures compliance classes, and specifies requirements which are applicable to all OGC API standards. It should be included as a normative reference by all such standards.</p>
<p>This specification addresses two fundamental operations; discovery and query.</p>
<p>Discovery operations allow the API to be interrogated to determine its capabilities and retrieve information (metadata) about this distribution of a resource. This includes the API definition of the server as well as metadata about the spatial resources provided by the server.</p>
<p>Query operations allow spatial resources to be retrieved from the underlying data store based upon simple selection criteria, defined by the client.</p>
<h1 id="_conformance">Conformance</h1>
<p>Conformance with this standard shall be checked using the tests specified in Annex A (normative) of this document. The framework, concepts, and methodology for testing, and the criteria to be achieved to claim conformance are specified in the OGC Compliance Testing Policies and Procedures and the OGC Compliance Testing web site.</p>
<p>This standard defines five requirements / conformance classes. The conformance classes implemented by an API are advertised through the /conformance path on the landing page. Conformant implementations must pass all of the tests for each advertised conformance class.</p>
<p>There is a one-to-one correspondance between conformance classes and requirements classes. The tests in Annex A are organized by Requirements Class. So an implementation of the <em>Core</em> conformance class must pass all tests specified for the <em>Core</em> requirements class.</p>
<p>The requirements classes for OGC API-Common are:</p>
<ul>
<li><p><a href="#rc_core">Core</a>.</p></li>
</ul>
<p>The <em>Core Requirements Class</em> is the minimal useful service interface for an OGC API. The requirements specified in this requirements class are mandatory for all OGC APIs</p>
<p>Additional capabilities such as support for transactions, complex data structures, and rich queries are specified in additional OGC API standards or in OGC managed API extensions. Those standards are extensions build on the API-Common foundation to provide the full functionality required of the API implementation.</p>
<ul>
<li><p><a href="#rc_collections">Collections</a>.</p></li>
</ul>
<p>The <em>Collections Requirements Class</em> extends the <em>Core</em> to enable fine-grained access to spatial resources. This requirements class is mandatory for all OGC APIs which expose spatial resources.</p>
<p>The structure and organziation of a collection of spatial resources is very much dependent on the nature of that resource and the expected access patterns. This is information which cannot be specified in a common manner. The <em>Collections Requirements Class</em> specifies the requirements necessary to discover and understand that structure and organization. Requirements governing the resource collections themselves are specified in the resource-specific OGC API standards.</p>
<ul>
<li><p><a href="#rc_html">HTML</a>,</p></li>
<li><p><a href="#rc_geojson">GeoJSON</a></p></li>
</ul>
<p>Neither the nor <em>Core</em> nor <em>Collections</em> requirements class mandate a specific encoding or format for representing resources. The <em>HTML</em> and <em>GeoJSON</em> requirements classes specify representations for these resources in commonly used encodings for spatial data on the web.</p>
<p>Neither of these encodings are mandatory. An implementation of the <em>API-Common</em> may decide to implement another encoding instead of, or in addition to, these two.</p>
<ul>
<li><p><a href="#rc_oas30">OpenAPI specification 3.0</a>.</p></li>
</ul>
<p>The <em>API-Common</em> does not mandate any encoding or format for the formal definition of the API either. The prefered option is the OpenAPI 3.0 specification. The <em>OpenAPI 3.0</em> requirements class has been specified for APIs implementing OpenAPI 3.0.</p>
<h1 id="_references">References</h1>
<p>The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.</p>
<ul>
<li><p>Open API Initiative: <strong>OpenAPI Specification 3.0.2</strong>, <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md</a></p></li>
<li><p>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., Berners-Lee, T.: <strong>IETF RFC 2616, HTTP/1.1</strong>, <a href="http://tools.ietf.org/rfc/rfc2616.txt">http://tools.ietf.org/rfc/rfc2616.txt</a></p></li>
<li><p>Rescorla, E.: <strong>IETF RFC 2818, HTTP Over TLS</strong>, <a href="http://tools.ietf.org/rfc/rfc2818.txt">http://tools.ietf.org/rfc/rfc2818.txt</a></p></li>
<li><p>Klyne, G., Newman, C.: <strong>IETF RFC 3339, Date and Time on the Internet: Timestamps</strong>, <a href="http://tools.ietf.org/rfc/rfc3339.txt">http://tools.ietf.org/rfc/rfc3339.txt</a></p></li>
<li><p>Nottingham, M.: <strong>IETF RFC 8288, Web Linking</strong>, <a href="http://tools.ietf.org/rfc/rfc8288.txt">http://tools.ietf.org/rfc/rfc8288.txt</a></p></li>
<li><p>Butler, H., Daly, M., Doyle, A., Gillies, S., Hagen, S., Schaub, T.: <strong>IETF RFC 7946, The GeoJSON Format</strong>, <a href="https://tools.ietf.org/rfc/rfc7946.txt">https://tools.ietf.org/rfc/rfc7946.txt</a></p></li>
<li><p>W3C: <strong>HTML5, W3C Recommendation</strong>, <a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a></p></li>
<li><p><strong>Schema.org</strong>: <a href="http://schema.org/docs/schemas.html">http://schema.org/docs/schemas.html</a></p></li>
</ul>
<h1 id="_terms_and_definitions">Terms and Definitions</h1>
<p>This document uses the terms defined in Sub-clause 5.3 of [OGC 06-121r8], which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of International Standards. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
<p>For the purposes of this document, the following additional terms and definitions apply.</p>
<h2 id="_dataset">dataset</h2>
<p>collection of data, published or curated by a single agent, and available for access or download in one or more formats (DCAT)</p>
<h2 id="_distribution">distribution</h2>
<p>represents an accessible form of a <strong>dataset</strong> (DCAT)</p>
<p>EXAMPLE: a downloadable file, an RSS feed or a web service that provides the data.</p>
<h1 id="_conventions">Conventions</h1>
<h2 id="_identifiers">Identifiers</h2>
<p>The normative provisions in this draft standard are denoted by the URI <code>http://www.opengis.net/spec/OAPI_Common/1.0</code>.</p>
<p>All requirements and conformance tests that appear in this document are denoted by partial URIs which are relative to this base.</p>
<h2 id="_link_relations">Link relations</h2>
<p>To express relationships between resources, <a href="#rfc8288">RFC 8288 (Web Linking)</a> and <a href="#link-relations">registered link relation types</a> are used.</p>
<h2 id="_use_of_https">Use of HTTPS</h2>
<p>For simplicity, this document in general only refers to the HTTP protocol. This is not meant to exclude the use of HTTPS and simply is a shorthand notation for &quot;HTTP or HTTPS&quot;. In fact, most servers are expected to use <a href="#rfc2818">HTTPS</a>, not <a href="#rc2616">HTTP</a>.</p>
<h2 id="_api_definition">API definition</h2>
<h3 id="_general_remarks">General remarks</h3>
<p>Good documentation is essential for every API so that developers can more easily learn how to use the API. In the best case, documentation would be available both in HTML for human consumption and in a machine readable format that can be processed by software for run-time binding.</p>
<p>This standard specifies requirements and recommendations for APIs that share spatial resources and want to follow a standard way of doing so. In general, APIs will go beyond the requirements and recommendations stated in this standard. They will support additional operations, parameters, etc. that are specific to the API or the software tool used to implement the API.</p>
<h3 id="_role_of_openapi">Role of OpenAPI</h3>
<p>This document uses OpenAPI 3.0 fragments as examples and to formally state requirements. Using OpenAPI 3.0 is not required for implementing an OGC API. Other API definition languages may be used along with, or instead of OpenAPI. However, any API definition language used should have an associated requirements class advertised through the /conformance path.</p>
<p>This approach is used to avoid lock-in to a specific approach to defining an API. This standard includes a requirements class for API definitions that follow the <a href="#rc_oas">OpenAPI specification 3.0</a>. Requirements classes for additional API definition languages will be added as the API landscape continues to evolve.</p>
<p>In this document, fragments of OpenAPI definitions are shown in YAML since YAML is easier to format than JSON and is typically used in OpenAPI editors.</p>
<h3 id="_references_to_openapi_components_in_normative_statements">References to OpenAPI components in normative statements</h3>
<p>Some normative statements (requirements, recommendations and permissions) use a phrase that a component in the API definition of the server must be &quot;based upon&quot; a schema or parameter component in the OGC schema repository.</p>
<p>In this case, the following changes to the pre-defined OpenAPI component are permitted:</p>
<ul>
<li><p>If the server supports an XML encoding, <code>xml</code> properties may be added to the relevant OpenAPI schema components.</p></li>
<li><p>The range of values of a parameter or property may be extended (additional values) or constrained (if a subset of all possible values are applicable to the server). An example for a constrained range of values is to explicitly specify the supported values of a string parameter or property using an enum.</p></li>
<li><p>Additional properties may be added to the schema definition of a Response Object.</p></li>
<li><p>Informative text may be changed or added, like comments or description properties.</p></li>
</ul>
<p>For API definitions that do not conform to the <a href="#rc_oas30">OpenAPI Specification 3.0</a> the normative statement should be interpreted in the context of the API definition language used.</p>
<h3 id="_paths_in_openapi_definitions">Paths in OpenAPI definitions</h3>
<p>All paths in an OpenAPI definition are relative to the base URL of a server. Unlike Web Services, an API is decoupled from the server(s). Some ramifications of this are:</p>
<ul>
<li><p>An API may be hosted (replicated) on more than one server.</p></li>
<li><p>Parts of an API may be distributed across multiple servers.</p></li>
</ul>
<p>If the OpenAPI Server Object looks like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode YAML"><code class="sourceCode yaml"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="fu">servers:</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">  <span class="kw">-</span> <span class="fu">url:</span><span class="at"> https://dev.example.org/</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    <span class="fu">description:</span><span class="at"> Development server</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">  <span class="kw">-</span> <span class="fu">url:</span><span class="at"> https://data.example.org/</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    <span class="fu">description:</span><span class="at"> Production server</span></a></code></pre></div>
<p>The path &quot;/mypath&quot; in the OpenAPI definition of the API would be the URL <code>https://data.example.org/mypath</code> for the production server.</p>
<h3 id="_reusable_openapi_components">Reusable OpenAPI components</h3>
<p>Reusable components for OpenAPI definitions for a OGC API are referenced from this document.</p>
<blockquote>
<p><strong>Caution</strong></p>
<p>During the development phase, these components use a base URL of &quot;https://raw.githubusercontent.com/opengeospatial/oapi_common/master/&quot;, but eventually they are expected to be available under the base URL &quot;http://schemas.opengis.net/wfs/3.0/openapi/&quot;.</p>
</blockquote>
<h1 id="overview">Overview</h1>
<h2 id="_evolution_from_ogc_web_services">Evolution from OGC Web Services</h2>
<p>OGC Web Service (OWS) standards implement a Remote-Procedure-Call-over-HTTP architectural style using XML for payloads. This was the state-of-the-art when OGC Web Services (OWS) were originally designed in the late 1990s. However, times have changed. New Resource-Oriented APIs have begun to replace Service-Oriented Web Services. And new OGC API standards are under development to provide API alternatives to the OWS standards.</p>
<p>OGC API (OAPI) Common specifies the common kernel of this API approach to services that follows the current Web architecture. In particular, the <a href="#SDWBP">W3C/OGC best practices for sharing Spatial Data on the Web</a> as well as the <a href="#DWBP">W3C best practices for sharing Data on the Web</a>.</p>
<p>Beside the general alignment with the architecture of the Web (e.g., consistency with HTTP/HTTPS, hypermedia controls), another goal for OGC API standards is modularization. This goal has several facets:</p>
<ul>
<li><p>Clear separation between core requirements and more advanced capabilities. This document specifies the core or <em>common</em> requirements that are relevant for almost everyone who wants to build a spatial API. Additional capabilities that several communities are using today will be specified as extensions to the Common API.</p></li>
<li><p>Technologies that change more frequently are decoupled and specified in separate modules (&quot;requirements classes&quot; in OGC terminology). This enables, for example, the use/re-use of new encodings for spatial data or API descriptions.</p></li>
<li><p>Modularization is not just about a single &quot;service&quot;. OGC APIs will provide building blocks that can be reused in APIs in general. In other words, a server supporting the OGC-Feature API should not be seen as a standalone service. Rather it should be viewed as a collection of API building blocks which together implement API-Feature capabilities. A corollary of this is that it should be possible to implement an API that simultaneously conforms to conformance classes from the Feature, Coverage, and other OGC Web API standards.</p></li>
</ul>
<p>Implementations of OGC API Common are intended to support two different approaches for how clients can use the API.</p>
<p>In the first approach, clients are implemented with knowledge about this standard and its resource types. The clients navigate the resources based on this knowledge and based on the responses provided by the API. The API definition may be used to determine details, e.g., on filter parameters, but this may not be necessary depending on the needs of the client. These are clients that are in general able to use multiple APIs as long as they implement OGC API Common.</p>
<p>The other approach targets developers that are not familiar with the OGC API standards, but want to interact with spatial data provided by an API that happens to implement OGC API Common. In this case the developer will study and use the API definition, typically an OpenAPI document, to understand the API and implement client code to interact with the API. This assumes familiarity with the API definition language and the related tooling, but it should not be necessary to study the OGC API standards.</p>
<h2 id="_encodings">Encodings</h2>
<p>This standard does not mandate any encoding or format. But it does provide extensions for encodings which are commonly used in OGC APIs. In addition to HTML as the standard encoding for Web content, rules for commonly used encodings for spatial data on the web are provided (GeoJSON).</p>
<p>None of these encodings is mandatory. An implementation of the <em>Core</em> requirements class does not have to support any of them. It may instead implement an entirely different set of encodings.</p>
<p><a href="#rec_html">Support for HTML is recommended</a>. HTML is the core language of the World Wide Web. An API that supports HTML will support browsing the spatial resources with a web browser and will also enable search engines to crawl and index those resources.</p>
<p>GeoJSON is a commonly used format that is simple to understand and well supported by tools and software libraries. Since most Web developers are comfortable with using a JSON-based format, it is <a href="#rec_geojson">recommended for APIs which expose feature data</a> if the feature data can be represented in GeoJSON for the intended use.</p>
<p>Some examples of cases that are out-of-scope for GeoJSON are:</p>
<ul>
<li><p>When solids are used for geometries (e.g. in a 3D city model),</p></li>
<li><p>Geometries that include non-linear curve interpolations that cannot be simplified (e.g., use of arcs in authoritative geometries),</p></li>
<li><p>Geometries that have to be represented in a coordinate reference system that is not based on WGS 84 longitude/latitude (e.g. an authoritative national reference system),</p></li>
<li><p>Features that have more than one geometric property.</p></li>
</ul>
<p>The recommendations for using HTML and GeoJSON reflect the importance of HTML and the current popularity of JSON-based data formats. As the practices in the Web community evolve, these recommendations will likely be updated in future versions of this standard to provide guidance on using other encodings.</p>
<p>This part of the OAPI standard does not provide any guidance on other encodings. The supported encodings, or more precisely the media types of the supported encodings, can be determined from the API definition. The desired encoding is selected using HTTP content negotiation.</p>
<p>For example, if the server supports <a href="https://tools.ietf.org/html/rfc8142">GeoJSON Text Sequences</a> an encoding that is based on JSON text sequences and GeoJSON to support streaming by making the data incrementally parseable, the media type <code>application/geo+json-seq</code> would be used.</p>
<p>In addition, HTTP supports compression. Therefore the standard HTTP compression mechanisms can be used to reduce the size of messages between the server and the client.</p>
<h1 id="_requirement_class_core">Requirement Class &quot;Core&quot;</h1>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirements Class</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/core">http://www.opengis.net/spec/OAPI_Common/1.0/req/core</a></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Target type</p></td>
<td><p>Web API</p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#rfc2616">RFC 2616 (HTTP/1.1)</a></p></td>
</tr>
<tr class="odd">
<td><p>Dependency</p></td>
<td><p><a href="#rfc2818">RFC 2818 (HTTP over TLS)</a></p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#rfc5988">RFC 5988 (Web Linking)</a></p></td>
</tr>
</tbody>
</table>
<h2 id="core-overview">Overview</h2>
<h3 id="resources-introduction">Resources</h3>
<p>An OGC API provides a lighweight interface to access one or more resources. The resources addressed by OGC APIs fall into three categories; Foundation Resources, Spatial Resources, and Information Resources.</p>
<p>Foundation Resources are those resources which are common across all OGC APIs. Those resources are defined in this OGC API-Common standard. Other OGC API standards re-use these resources and, where necessary, extend them to address unique requirements.</p>
<p>Spatial Resources are the resource which we usually think of as Geospatial Data. They include Features, Coverages, and Maps. This Standard defines basic patterns for accessing Spatial Resources. Additional OGC API Standards have been developed to address specific API requirements for each Spatial Resource type.</p>
<p>Information Resources are non-spatial resources which support the operation of the API or the access and use of the Spatial Resources.</p>
<h3 id="modular-API-introduction">Modular APIs</h3>
<p>A goal of OGC API standards is to provide rapid and easy access to spatial resources. To meet this goal, the needs of both the resource provider and the resource consumer must be considered. Our approach is to provide a modular framework of API components. This framework provides a consistent &quot;look and feel&quot; across all OGC APIs. When API servers and clients are built from the same set of modules, the likelyhood that they will integrate at run-time is greatly enhanced.</p>
<h3 id="navigation-introduction">Navigation</h3>
<p>OGC APIs are designed to support two access patterns; Hypermedia Access, and Direct Access. OGC APIs support both access patterns through the use of API Definition documents, standardized paths, and standardized hypermedia schemas.</p>
<h4 id="hypermedia-access-introduction">Hypermedia Access</h4>
<p>Hypermedia Access is the use of hypermedia links to navigate from one resource to another. This pattern is typical of the Web Browser environment. A resource consumer (typically a human) starts from a landing page, selects a link on that page, then moves on to the referenced resource.</p>
<p>Navigation of hyperlinks is facilitated if the hyperlink includes information about the resource type at the link destination. Therefore, OGC APIs will use a set of common link relationships.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 1</strong></p></td>
<td><p><strong>/req/core/link-relations</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Links used in OGC APIs SHALL use the following link relations:</p>
<ul>
<li><p><code>alternate</code>: links to this resource in another media type (the media type is specified in the <code>type</code> link attribute)</p></li>
<li><p><code>conformance</code>: links to conformance information</p></li>
<li><p><code>data</code>: links to an information resource</p></li>
<li><p><code>describedBy</code>: links to external resources which further describe the subject resource</p></li>
<li><p><code>items</code>: links to each individual resource which is included in a collection resource</p></li>
<li><p><code>self</code>: links to this resource,</p></li>
<li><p><code>service-desc</code>: links to the API Definition</p></li>
<li><p><code>service-doc</code>: an alternative to <code>service-desc</code></p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>This requirement does not constrain the use of other link relations for resource types not addressed by this requirement.</p></td>
</tr>
</tbody>
</table>
<p>OGC API hyperlinks are defined using the following <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/openapi/schemas/link.json">Hyperlink Schema</a>.</p>
<p><strong>Hyperlink Schema.</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">    <span class="dt">&quot;$schema&quot;</span><span class="fu">:</span> <span class="st">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">    <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Link Schema&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">    <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Schema for external references&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;object&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">    <span class="dt">&quot;required&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">        <span class="st">&quot;href&quot;</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">    <span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">        <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">        <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16">        <span class="dt">&quot;hreflang&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19">        <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23">    <span class="fu">}</span></a></code></pre></div>
<h4 id="direct-access-introduction">Direct Access</h4>
<p>Direct Access requires that the resource consumer possesses knowlege of the path to the resouce prior to attempting access. Typically this knowlege comes from the use of standard paths, receiving the path from another entity, or by processing an API definition resource. Direct access is particularly applicable to software analytics where there is no human in the loop.</p>
<p>Direct access is facilitated by the use of standard URL paths. The requirements in this Requirements Class are organized around these standard paths.</p>
<h2 id="foundation-resources">Foundation Resources</h2>
<p>Foundation resources are those resources which are provided by every OGC API.</p>
<p>The standard paths defined in this Standard for Foundation Resources are:</p>
<ol type="1">
<li><p>&quot;/&quot; - the landing page</p></li>
<li><p>&quot;/api&quot; - the API Definition document for this API</p></li>
<li><p>&quot;/conformance&quot; - the conformance information for this API</p></li>
</ol>
<h3 id="landing-page">API landing page</h3>
<p>Each OGC API has a single <code>LandingPage</code> (path <code>/</code>).</p>
<p>The purpose of the landing page is to provide users with the basic information they need to use this API as well as links to the resources exposed through the API.</p>
<h4 id="_operation">Operation</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 2</strong></p></td>
<td><p><strong>/req/core/root-op</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The server SHALL support the HTTP GET operation at the path <code>/</code>.</p></td>
</tr>
</tbody>
</table>
<h4 id="_response">Response</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 3</strong></p></td>
<td><p><strong>/req/core/root-success</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A successful execution of the operation SHALL be reported as a response with an HTTP status code <code>200</code>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The content of that response SHALL be based upon the schema <a href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/landingPage.json">landingPage.json</a> and include links to the following resources:</p>
<ul>
<li><p>the API definition (relation type 'service-desc' or 'service-doc')</p></li>
<li><p><code>/conformance</code> (relation type 'conformance')</p></li>
<li><p>one or more information resources (relation type 'data')</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>In addition to the required resources, links to additional resources may be included in the Landing Page.</p>
<p>The landing page returned by this operation is based on the following <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/openapi/schemas/landingPage.json">Landing Page Schema</a>. Examples of OGC landing pages are provided in <a href="#landing-page-examples">Example Landing Pages</a>.</p>
<p><strong>Landing Page Schema.</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="dt">&quot;$schema&quot;</span><span class="fu">:</span> <span class="st">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Landing Page Schema&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;JSON schema for the OGC API-Common landing page&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;object&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="dt">&quot;required&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">    <span class="st">&quot;links&quot;</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10">    <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;The title of the API&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">        <span class="fu">},</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14">    <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15">        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;A textual description of the API&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17">        <span class="fu">},</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18">    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19">        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Links to the resources exposed through this API.&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;array&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21">        <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$href&quot;</span><span class="fu">:</span> <span class="st">&quot;link.json&quot;</span><span class="fu">}</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb3-24" data-line-number="24">    <span class="dt">&quot;patternProperties&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25">        <span class="dt">&quot;^x-&quot;</span><span class="fu">:</span> <span class="fu">{}</span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26">    <span class="fu">},</span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27">    <span class="dt">&quot;additionalProperties&quot;</span><span class="fu">:</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="fu">}</span></a></code></pre></div>
<h4 id="_error_situations">Error Situations</h4>
<p>See <a href="#http_status_codes">HTTP Status Codes</a> for general guidance.</p>
<h3 id="API-definition">API Definition</h3>
<p>Every API is expected to provide a definition that describes capabilities provided by the API. This document can be used by developers to understand the API, by software clients to connect to the server, and by development tools to support the implementation of servers and clients.</p>
<h4 id="_operation_2">Operation</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 4</strong></p></td>
<td><p><strong>/req/core/api-definition-op</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The URIs of all API definitions referenced from the landing page SHALL support the HTTP GET method.</p></td>
</tr>
</tbody>
</table>
<h4 id="_response_2">Response</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 5</strong></p></td>
<td><p><strong>/req/core/api-definition-success</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A GET request to the URI of an API definition linked from the landing page (link relations <code>service-desc</code> or <code>service-doc</code>) with an <code>Accept</code> header with the value of the link property <code>type</code> SHALL return a document consistent with the requested media type.</p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 1</strong></p></td>
<td><p><strong>/rec/core/api-definition-oas</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If the API definition document uses the OpenAPI Specification 3.0, the document SHOULD conform to the <a href="#rc_oas30">OpenAPI Specification 3.0 requirements class</a>.</p></td>
</tr>
</tbody>
</table>
<p>If multiple API definition formats are supported, use content negotiation to select the desired representation.</p>
<h4 id="_error_situations_2">Error Situations</h4>
<p>See <a href="#http_status_codes">HTTP Status Codes</a> for general guidance.</p>
<h3 id="conformance-classes">Declaration of Conformance Classes</h3>
<p>To support &quot;generic&quot; clients that want to accessing OGC APIs in general - and not &quot;just&quot; a specific API / server, the API has to declare the requirements classes it implements and conforms to.</p>
<h4 id="_operation_3">Operation</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 6</strong></p></td>
<td><p><strong>/req/core/conformance-op</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The API SHALL support the HTTP GET operation at the path <code>/conformance</code>.</p></td>
</tr>
</tbody>
</table>
<h4 id="_response_3">Response</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 7</strong></p></td>
<td><p><strong>/req/core/conformance-success</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The content of that response SHALL be based upon the OpenAPI 3.0 schema <a href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/confClasses.json">confClasses.json</a> and list all OGC API conformance classes that the API conforms to.</p></td>
</tr>
</tbody>
</table>
<p>The conformance resource returned by this operation is based on the following <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/confClasses.json">Conformance Schema</a>. Examples of OGC conformance resources are provided in <a href="#conformance-response-examples">Conformance Examples</a>.</p>
<p><strong>Conformance Schema.</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="dt">&quot;$schema&quot;</span><span class="fu">:</span> <span class="st">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Conformance Classes Schema&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;This schema defines the resource returned from the /Conformance path&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;object&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="dt">&quot;required&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">    <span class="st">&quot;conformsTo&quot;</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">    <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-10" data-line-number="10">    <span class="dt">&quot;conformsTo&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11">        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;array&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12">        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;ConformsTo is an array of URLs.  Each URL should correspond to a defined OGC Conformance class.  Unrecognized URLs should be ignored&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13">        <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb4-14" data-line-number="14">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15">            <span class="dt">&quot;example&quot;</span><span class="fu">:</span> <span class="st">&quot;http://www.opengis.net/spec/OAPI_Common/1.0/req/core&quot;</span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="fu">}</span></a></code></pre></div>
<h4 id="_error_situations_3">Error situations</h4>
<p>See <a href="#http_status_codes">HTTP Status Codes</a> for general guidance.</p>
<h2 id="_spatial_resources">Spatial Resources</h2>
<p>There is no requirement that every OGC API support Spatial Resources. Therefore, Spatial Resources are addressed in a separate <code>Collections</code> Requirement Class. This class is described in Section 8.</p>
<h2 id="information-resources">Information Resources</h2>
<p>Information Resources are non-spatial resources which support the operation of the API or the access and use of the Spatial Resources. These resources are usually specific to a spatial resource type and will be defined in the appropriate API standards.</p>
<p>Information Resources can exposed using two path templates:</p>
<ul>
<li><p>/collections/{collectionId}/{resourceType}</p></li>
<li><p>/{resourceType}</p></li>
</ul>
<p>Where</p>
<p>{collectionId} = a unique identifier for a Spatial Resource collection.</p>
<p>{resourceType} = a text string identifying the Information Resource type.</p>
<p>Information Resources associated with a specific collection should be accessed through the <code>/collections</code> path. Those which are not associated with a specific collection should use the <code>/{resourceType}</code> template.</p>
<p>The OGC API-Common standard does not define any Information Resource types. However <a href="#information_resource_table">Table 2</a> provides a maping of the know Information Resource types to the standard where they are defined.</p>
<table>
<caption>Information Resource Types</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Resource Type</strong></th>
<th><strong>API Standard</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>TBD</p></td>
<td><p>TBD</p></td>
</tr>
</tbody>
</table>
<h2 id="general-requirements">General Requirements</h2>
<p>The following general requirements and recomendations apply to all OGC APIs.</p>
<h3 id="_http_1_1">HTTP 1.1</h3>
<p>The standards used for Web APIs are built on the HTTP protocol. Therefore, conformance with HTTP or a closely related protocol is required.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 8</strong></p></td>
<td><p><strong>/req/core/http</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The API SHALL conform to <a href="#rfc2616">HTTP 1.1</a>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>If the API supports HTTPS, then the API SHALL also conform to <a href="#rfc2818">HTTP over TLS</a>.</p></td>
</tr>
</tbody>
</table>
<h3 id="http_status_codes">HTTP Status Codes</h3>
<p><a href="#status_codes">Table 3</a> lists the main HTTP status codes that clients should be prepared to receive. This includes support for specific security schemes or URI redirection. In addition, other error situations may occur in the transport layer outside of the server.</p>
<table>
<caption>Typical HTTP status codes</caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Status code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><code>200</code></p></td>
<td><p>A successful request.</p></td>
</tr>
<tr class="even">
<td><p><code>304</code></p></td>
<td><p>An <a href="#web_caching">entity tag was provided in the request</a> and the resource has not been changed since the previous request.</p></td>
</tr>
<tr class="odd">
<td><p><code>400</code></p></td>
<td><p>The server cannot or will not process the request due to an apparent client error. For example, a query parameter had an incorrect value.</p></td>
</tr>
<tr class="even">
<td><p><code>401</code></p></td>
<td><p>The request requires user authentication. The response includes a <code>WWW-Authenticate</code> header field containing a challenge applicable to the requested resource.</p></td>
</tr>
<tr class="odd">
<td><p><code>403</code></p></td>
<td><p>The server understood the request, but is refusing to fulfill it. While status code <code>401</code> indicates missing or bad authentication, status code <code>403</code> indicates that authentication is not the issue, but the client is not authorised to perform the requested operation on the resource.</p></td>
</tr>
<tr class="even">
<td><p><code>404</code></p></td>
<td><p>The requested resource does not exist on the server. For example, a path parameter had an incorrect value.</p></td>
</tr>
<tr class="odd">
<td><p><code>405</code></p></td>
<td><p>The request method is not supported. For example, a POST request was submitted, but the resource only supports GET requests.</p></td>
</tr>
<tr class="even">
<td><p><code>406</code></p></td>
<td><p>The <code>Accept</code> header submitted in the request did not support any of the media types supported by the server for the requested resource.</p></td>
</tr>
<tr class="odd">
<td><p><code>500</code></p></td>
<td><p>An internal error occurred in the server.</p></td>
</tr>
</tbody>
</table>
<p>More specific guidance is provided for each resource, where applicable.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Permission 1</strong></p></td>
<td><p><strong>/per/core/additional-status-codes</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Servers MAY support other capabilities of the HTTP protocol and, therefore, MAY return other status codes than those listed in <a href="#status_codes">Table 3</a>, too.</p></td>
</tr>
</tbody>
</table>
<h3 id="web_caching">Web Caching</h3>
<p>Entity tags are a mechanism for web cache validation and for supporting conditional requests to reduce network traffic. Entity tags are specified by <a href="#rfc2616">HTTP/1.1 (RFC 2616)</a>.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 2</strong></p></td>
<td><p><strong>/rec/core/etag</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The service SHOULD support entity tags and the associated headers as specified by HTTP/1.1.</p></td>
</tr>
</tbody>
</table>
<h3 id="cross_origin">Support for Cross-Origin Requests</h3>
<p>Access to data from a HTML page is by default prohibited for security reasons, if the data is located on another host than the webpage (&quot;same-origin policy&quot;). A typical example is a web-application accessing feature data from multiple distributed datasets.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 3</strong></p></td>
<td><p><strong>/rec/core/cross-origin</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If the server is intended to be accessed from the browser, cross-origin requests SHOULD be supported. Note that support can also be added in a proxy layer on top of the server.</p></td>
</tr>
</tbody>
</table>
<p>Two common mechanisms to support cross-origin requests are:</p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross-origin resource sharing (CORS)</a></p></li>
<li><p><a href="https://en.wikipedia.org/wiki/JSONP">JSONP (JSON with padding)</a></p></li>
</ul>
<h3 id="_encodings_2">Encodings</h3>
<p>While the OAPI Common standard does not specify any mandatory encoding, the following encodings are recommended. See <a href="#overview">Clause 6 (Overview)</a> for a discussion.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 4</strong></p></td>
<td><p><strong>/rec/core/html</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>To support browsing a API with a web browser and to enable search engines to crawl and index the dataset, implementations SHOULD consider to support an HTML encoding.</p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 5</strong></p></td>
<td><p><strong>/rec/core/geojson</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If the resource can be represented for the intended use in GeoJSON, implementations SHOULD consider to support GeoJSON as an encoding.</p></td>
</tr>
</tbody>
</table>
<p><a href="#_http_1_1">Requirement <code>/req/core/http</code></a> implies that the encoding of a response is determined using content negotiation as specified by the HTTP RFC.</p>
<p>The section <a href="#mediatypes">Media Types</a> includes guidance on media types for <a href="#encodings">encodings</a> that are specified in this document.</p>
<p>Note that any API that supports multiple encodings will have to support a mechanism to mint encoding-specific URIs for resources in order to express links, for example, to alternate representations of the same resource. This document does not mandate any particular approach how this is supported by the API.</p>
<p>As clients simply need to dereference the URI of the link, the implementation details and the mechanism how the encoding is included in the URI of the link are not important. Developers interested in the approach of a particular implementation, for example, to manipulate (&quot;hack&quot;) in the browser address bar, can study the API definition.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Two common approaches are:</p>
<ul>
<li><p>an additional path for each encoding of each resource (this can be expressed, for example, using format specific suffixes like &quot;.html&quot;);</p></li>
<li><p>an additional query parameter (for example, &quot;accept&quot; or &quot;f&quot;) that overrides the Accept header of the HTTP request.</p></li>
</ul>
</blockquote>
<h3 id="_link_headers">Link Headers</h3>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 6</strong></p></td>
<td><p><strong>/rec/core/link-header</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Links included in payload of responses SHOULD also be included as <code>Link</code> headers in the HTTP response according to <a href="#rfc5988">RFC 8288, Clause 3</a>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>This recommendation does not apply, if there are a large number of links included in a response or a link is not known when the HTTP headers of the response are created.</p></td>
</tr>
</tbody>
</table>
<h1 id="_requirement_class_collections">Requirement Class &quot;Collections&quot;</h1>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirements Class</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/collections">http://www.opengis.net/spec/OAPI_Common/1.0/req/collections</a></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Target type</p></td>
<td><p>Web API</p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#rfc3339">RFC 3339 (Date and Time on the Internet: Timestamps)</a></p></td>
</tr>
</tbody>
</table>
<h2 id="collections-overview">Overview</h2>
<p>Spatial Resources are the resources which we usually think of as Geospatial Data. They include Features, Coverages, and Maps. This Conformance Class defines basic patterns for accessing Spatial Resources. Additional OGC API Standards have been developed to address specific API requirements for each Spatial Resource type.</p>
<p>OGC APIs are designed to support two access patterns; Hypermedia Access, and Direct Access. OGC APIs support both access patterns through the use of API Definition documents, standardized paths, and standardized hypermedia schemas.</p>
<p>Hypermedia Access was described in the <a href="#navigation-introduction">Navigation</a> section of Clause 7. For Spatial Resources, hypermedia navigation is enabled through the links included in each schema defined by this Reqirement Class.</p>
<p>Direct access is the use of know URL paths to access a resource directly. The requirements in this Requirement Class are organized around the standard paths for Spatial Data.</p>
<h2 id="Spatial-resources-requirements">Spatial Resources</h2>
<p>Detailed requirements for each Spatial Resource type are dealt with in the resource-specific API standards. However, this API Common standard has the responsiblity to see that all OGC API standards work together by:</p>
<ol type="1">
<li><p>Providing specifications for the description of each collection (/collections/{collectionId}), and the list of collections (/collections)</p></li>
<li><p>Providing a consistent framework for serving spatial data from the OGC API, regardless of the type. Consistent means that #1 works exactly the same (potentially with type-specific additional properties) and that the different types of data can all be collections on the same OGC API end-point.</p></li>
<li><p>Providing a tie point for other OGC API modules to connect to and reference (processes inputs &amp; outputs, cataloging, searching and filtering collections, detailed metadata, tiles, styles, clipping and intersecting bounding boxes in common) Just by virtue of understanding that /collections/{collectionId} points to a spatial <strong>data layer</strong>.</p></li>
</ol>
<p>Spatial Resources are exposed using the path template.</p>
<pre><code>/collections/{collectionId}/items</code></pre>
<p>The resources returned from each node in this template are described in <a href="#spatial_resource_paths">Table 4</a>.</p>
<table>
<caption>Spatial Resource Paths</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Path Template</strong></th>
<th><strong>Resource</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>/collections</p></td>
<td><p>Metadata describing the spatial collections avalable from this API.</p></td>
</tr>
<tr class="even">
<td><p>/collections/{collectionId}</p></td>
<td><p>Metadata describing the collection with the unique identifier <code>{collectionId}</code></p></td>
</tr>
<tr class="odd">
<td><p>/collections/{collectionId}/item</p></td>
<td><p>The spatial collection resource identified by the <code>{collectionId}</code> parameter.</p></td>
</tr>
</tbody>
</table>
<h3 id="collections-metadata">Collections Metadata</h3>
<p>OGC APIs typically organize their Spatial Resources into collections. Information about those collections is accessed through the /collections path.</p>
<h4 id="_operation_4">Operation</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 9</strong></p></td>
<td><p><strong>/req/collections/rc-md-op</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The API SHALL support the HTTP GET operation at the path <code>/collections</code>.</p></td>
</tr>
</tbody>
</table>
<h4 id="_response_4">Response</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 10</strong></p></td>
<td><p><strong>/req/collections/rc-md-success</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The content of that response SHALL be based upon the JSON schema <a href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/collections.json">collections.json</a>.</p></td>
</tr>
</tbody>
</table>
<p>The collections metadata returned by this operation is based on the <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/collections.json">Collections Metadata Schema</a>. Examples of collections metadata are provided in <a href="#collections-metadata-examples">Collections Metadata Examples</a>.</p>
<p><strong>Collections Metadata Schema.</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    <span class="dt">&quot;$schema&quot;</span><span class="fu">:</span> <span class="st">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">    <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Collections Schema&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;This schema defines the metadata resource returned from /collections.&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;object&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">    <span class="dt">&quot;required&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">        <span class="st">&quot;links&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8">        <span class="st">&quot;collections&quot;</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">    <span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11">        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;array&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13">            <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$href&quot;</span><span class="fu">:</span> <span class="st">&quot;link.json&quot;</span><span class="fu">}</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15">        <span class="dt">&quot;collections&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;array&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17">            <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$href&quot;</span><span class="fu">:</span> <span class="st">&quot;collectionInfo.json&quot;</span><span class="fu">}</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20">    <span class="fu">}</span></a></code></pre></div>
<p>This schema is further constrained by the following requirements and recomendations.</p>
<p>To support hypermedia navigation, the <code>links</code> property must be polulated with sufficient hyperlinks to navigate through the whole dataset.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 11</strong></p></td>
<td><p><strong>/req/collections/rc-md-links</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A <code>200</code>-response SHALL include the following links in the <code>links</code> property of the response:</p>
<ul>
<li><p>a link to this response document (relation: <code>self</code>),</p></li>
<li><p>a link to the response document in every other media type supported by the API (relation: <code>alternate</code>).</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>All links SHALL include the <code>rel</code> and <code>type</code> link parameters.</p></td>
</tr>
</tbody>
</table>
<p>Additional information may be available to assist in understanding and using this dataset. Links to those resources should be provided as well.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recomendation 7</strong></p></td>
<td><p><strong>/rec/collections/rc-md-desciptions</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If external schemas or descriptions exist that provide additional information about the structure or semantics for the resource, a <code>200</code>-response SHOULD include links to each of those resources in the <code>links</code> property of the response (relation: <code>describedBy</code>).</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>This applies to resources that describe to the whole dataset.</p></td>
</tr>
<tr class="even">
<td><p>C</p></td>
<td><p>The <code>type</code> link parameter SHOULD be provided for each link.</p></td>
</tr>
</tbody>
</table>
<p>The <code>collections</code> property of the Collections Metadata provides a description of each collection. These descriptions are based on the <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/collectionInfo.json">Collection Information Schema</a>. This schema is described in detail in the <a href="#collection-information">Collection Information</a> section of this Standard. The following requirements and recommendations govern the use of Collection Information in the Collections Metadata.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 12</strong></p></td>
<td><p><strong>/req/collections/rc-md-items</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>For each spatial resource collection accessible through this API, metadata describing that collection SHALL be provided in the <code>collections</code> property of the Collections Metadata.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>This metadata shall be based on the same schema as the Collection Information resource.</p></td>
</tr>
</tbody>
</table>
<p>While it is prefered that the Collections Metadata describe all of the collections accessible through the API, in some cases that is impractical. Developers have an option to only return a subset, as long as they provide a way to retrieve the remaining metadata as well.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Permission 2</strong></p></td>
<td><p><strong>/per/core/rc-md-items</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>To support servers with many collections, servers MAY limit the number of items included in the <code>collections</code> property.</p></td>
</tr>
</tbody>
</table>
<h4 id="_error_situations_4">Error situations</h4>
<p>See <a href="#http_status_codes">HTTP Status Codes</a> for general guidance.</p>
<h3 id="collection-information">Collection Information</h3>
<p>Each resource collection is described by a set of metadata. That metadata is accessed directly using the <code>/collections/{collectionId}</code> path or as an entry in the <code>collections</code> property of the Collections Metadata resource.</p>
<h4 id="_operation_5">Operation</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 13</strong></p></td>
<td><p><strong>/req/collections/src-md-op</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The API SHALL support the HTTP GET operation at the path <code>/collections/{collectionId}</code>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p></td>
</tr>
</tbody>
</table>
<h4 id="_response_5">Response</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 14</strong></p></td>
<td><p><strong>/req/collections/src-md-success</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The content of that response SHALL be based upon the JSON schema <a href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/collectionInfo.json">collectionInfo.json</a>.</p></td>
</tr>
<tr class="even">
<td><p>C</p></td>
<td><p>The content of that response SHALL be consistent with the content for this resource collection in the <code>/collections</code> response. That is, the values for <code>id</code>, <code>title</code>, <code>description</code> and <code>extent</code> SHALL be identical.</p></td>
</tr>
</tbody>
</table>
<p>Collection Information is based on the <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/collectionInfo.json">Collection Information Schema</a>. Examples of Collection Information are provided in <a href="#collection-information-examples">???</a>.</p>
<p><strong>Collection Information Schema.</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2">    <span class="dt">&quot;$schema&quot;</span><span class="fu">:</span> <span class="st">&quot;http://json-schema.org/draft-07/schema#&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">    <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Collection Information Schema&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">    <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;This schema defines metadata resource returned from /collections/{collectionId}.&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5">    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;object&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">    <span class="dt">&quot;required&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">        <span class="st">&quot;id&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8">        <span class="st">&quot;links&quot;</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9">        <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10">    <span class="dt">&quot;properties&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11">        <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12">          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13">          <span class="fu">},</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14">        <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17">        <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20">        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;array&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22">            <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$href&quot;</span><span class="fu">:</span> <span class="st">&quot;link.json&quot;</span><span class="fu">}</span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23">            <span class="fu">},</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24">        <span class="dt">&quot;extent&quot;</span><span class="fu">:</span> <span class="fu">{</span><span class="dt">&quot;$href&quot;</span><span class="fu">:</span> <span class="st">&quot;bbox.yaml&quot;</span><span class="fu">},</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25">        <span class="dt">&quot;crs&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26">            <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;the list of coordinate reference systems supported by the API; the first item is the default coordinate reference system&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-27" data-line-number="27">            <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;array&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-28" data-line-number="28">            <span class="dt">&quot;items&quot;</span><span class="fu">:</span> <span class="fu">{</span></a>
<a class="sourceLine" id="cb7-29" data-line-number="29">                <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;string&quot;</span></a>
<a class="sourceLine" id="cb7-30" data-line-number="30">                <span class="fu">},</span></a>
<a class="sourceLine" id="cb7-31" data-line-number="31">            <span class="dt">&quot;default&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-32" data-line-number="32">                <span class="st">&quot;http://www.opengis.net/def/crs/OGC/1.3/CRS84&quot;</span></a>
<a class="sourceLine" id="cb7-33" data-line-number="33">                <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb7-34" data-line-number="34">            <span class="dt">&quot;example&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb7-35" data-line-number="35">                <span class="st">&quot;http://www.opengis.net/def/crs/OGC/1.3/CRS84&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb7-36" data-line-number="36">                <span class="st">&quot;http://www.opengis.net/def/crs/EPSG/0/4326&quot;</span></a>
<a class="sourceLine" id="cb7-37" data-line-number="37">                <span class="ot">]</span></a>
<a class="sourceLine" id="cb7-38" data-line-number="38">            <span class="fu">}</span></a>
<a class="sourceLine" id="cb7-39" data-line-number="39">        <span class="fu">}</span></a>
<a class="sourceLine" id="cb7-40" data-line-number="40">    <span class="fu">}</span></a></code></pre></div>
<p>This schema is further constrained by the following requirements and recomendations.</p>
<p>To support hypermedia navigation, the <code>links</code> property must be polulated with sufficient hyperlinks to navigate through the whole dataset.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 15</strong></p></td>
<td><p><strong>/req/collections/rc-md-items-links</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p><code>200</code>-response SHALL include the following links in the <code>links</code> property of the response:</p>
<ul>
<li><p>a link to this response document (relation: <code>self</code>),</p></li>
<li><p>a link to the response document in every other media type supported by the API (relation: <code>alternate</code>).</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The <code>links</code> property of the response SHALL include an item for each supported encoding of that collection with a link to the collection resource (relation: <code>items</code>).</p></td>
</tr>
<tr class="even">
<td><p>B</p></td>
<td><p>All links SHALL include the <code>rel</code> and <code>type</code> properties.</p></td>
</tr>
</tbody>
</table>
<p>Additional information may be available to assist in understanding and using this dataset. Links to those resources should be provided as well.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recomendation 8</strong></p></td>
<td><p><strong>/rec/core/rc-md-items-desciptions</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If external schemas or descriptions exist that provide additional information about the structure or semantics of the collection, a <code>200</code>-response SHOULD include links to each of those resources in the <code>links</code> property of the response (relation: <code>describedBy</code>).</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The <code>type</code> link parameter SHOULD be provided for each link.</p></td>
</tr>
</tbody>
</table>
<p>Additional requirements and recomendations apply to the <code>extent</code> propery of the Collection Information.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 16</strong></p></td>
<td><p><strong>/req/collections/rc-md-extent</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>For each spatial resource collection, the <code>extent</code> property, if provided, SHALL provide bounding boxes that include all spatial geometries and time intervals that include all temporal geometries in this collection. The temporal extent may use <code>null</code> values to indicate an open time interval.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>If a spatial resource has multiple properties with spatial or temporal information, it is the decision of the API implementation whether only a single spatial or temporal geometry property is used to determine the extent or all relevant geometries.</p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 9</strong></p></td>
<td><p><strong>/rec/core/rc-md-extent-single</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>While the spatial and temporal extents support multiple bounding boxes (<code>bbox</code> array) and time intervals (<code>interval</code> array) for advanced use cases, implementations SHOULD provide only a single bounding box or time interval unless the use of multiple values is important for the use of the dataset and agents using the API are known to be support multiple bounding boxes or time intervals.</p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Permission 3</strong></p></td>
<td><p><strong>/per/core/rc-md-extent-extensions</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The Core only specifies requirements for spatial and temporal extents. However, the <code>extent</code> object MAY be extended with additional members to represent other extents, for example, thermal or pressure ranges.<br />
</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The Core only supports spatial extents in WGS84 longitude/latitude andtemporal extents in the calendar (these are the only enum values in <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/">extent.yaml</a>).</p></td>
</tr>
<tr class="even">
<td><p>C</p></td>
<td><p>Extensions to the Core MAY add additional reference systems to the <code>extent</code> object.</p></td>
</tr>
</tbody>
</table>
<h4 id="_error_situations_5">Error situations</h4>
<p>See <a href="#http_status_codes">HTTP Status Codes</a> for general guidance.</p>
<p>If the parameter <code>collectionId</code> does not exist on the server, the status code of the response will be <code>404</code> (see <a href="#status_codes">Table 3</a>).</p>
<h3 id="collection-resource">Collection Resource</h3>
<p>A collection resource is the content of the collection as opposed to metadata about that collection. This standard defines the general behavior of this operation, but detailed requirements are the purvue of the API standard for that resource type.</p>
<h4 id="_operation_6">Operation</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 17</strong></p></td>
<td><p><strong>/req/collections/rc-op</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>For every resource collection identified in the resource collections response (path <code>/collections</code>), the API SHALL support the HTTP GET operation at the path <code>/collections/{collectionId}/items</code>.</p>
<ul>
<li><p>The parameter <code>collectionId</code> is each <code>id</code> property in the resource collections response (JSONPath: <code>$.collections[*].id</code>).</p></li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="_response_6">Response</h4>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 18</strong></p></td>
<td><p><strong>/req/collections/rc-response</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A successful execution of the operation SHALL be reported as a response with a HTTP status code <code>200</code>.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The response SHALL only include resources selected by the request.</p></td>
</tr>
</tbody>
</table>
<h4 id="_error_situations_6">Error situations</h4>
<p>See <a href="#http_status_codes">HTTP Status Codes</a> for general guidance.</p>
<h2 id="information-resources">Information Resources</h2>
<p>Information Resources are non-spatial resources which support the operation of the API or the access and use of the Spatial Resources. They are described in the <a href="#information-resources">Information Resources</a> section.</p>
<p>Information Resources related to Spatial Resources can exposed using the path template:</p>
<ul>
<li><p>/collections/{collectionId}/{resourceType}</p></li>
</ul>
<p>The resources returned from each node in this template are described in <a href="#information_resource_paths">Table 5</a>.</p>
<table>
<caption>Information Resource Paths</caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Path Template</strong></th>
<th><strong>Resource</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>/collections</p></td>
<td><p>The root resource describing the spatial collections avalable from this API.</p></td>
</tr>
<tr class="even">
<td><p>/collections/{collectionId}</p></td>
<td><p>Identifies a collection with the unique identifier <code>{collectionId}</code></p></td>
</tr>
<tr class="odd">
<td><p>/collections/{collectionId}/{resourceType}</p></td>
<td><p>Identifies an Information Resource of type {resourceType} associated with the <code>{collectionId}</code> collection.</p></td>
</tr>
</tbody>
</table>
<p>The OGC API-Common standard does not define any Information Resource types. However <a href="#information_resource_table">Table 2</a> provides a maping of the know Information Resource types to the standard where they are defined.</p>
<h2 id="_parameter_modules">Parameter Modules</h2>
<p>Query parameters are used in URLs to limit the resources which are returned on a GET request. The API Common standard defines two standard parameters for use in OGC API standards.</p>
<h3 id="_parameter_bbox">Parameter bbox</h3>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 19</strong></p></td>
<td><p><strong>/req/collections/rc-bbox-definition</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The <code>bbox</code> parameter SHALL possess the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode YAML"><code class="sourceCode yaml"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="fu">name:</span><span class="at"> bbox</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="fu">in:</span><span class="at"> query</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="fu">required:</span><span class="at"> false</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="fu">schema:</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  <span class="fu">type:</span><span class="at"> array</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6">  <span class="fu">minItems:</span><span class="at"> 4</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">  <span class="fu">maxItems:</span><span class="at"> 6</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8">  <span class="fu">items:</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">    <span class="fu">type:</span><span class="at"> number</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="fu">style:</span><span class="at"> form</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="fu">explode:</span><span class="at"> false</span></a></code></pre></div></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 20</strong></p></td>
<td><p><strong>/req/collections/rc-bbox-response</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If the <code>bbox</code> parameter is provided, only resources that have a spatial geometry that intersects the bounding box SHALL be part of the result set.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>If a resource has multiple spatial geometry properties, it is the decision of the server whether only a single spatial geometry property is used to determine the extent or all relevant geometries.</p></td>
</tr>
<tr class="even">
<td><p>C</p></td>
<td><p>The <code>bbox</code> parameter SHALL also match all resources in the collection that are not associated with a spatial geometry.</p></td>
</tr>
<tr class="odd">
<td><p>D</p></td>
<td><p>The bounding box is provided as four or six numbers, depending on whether the coordinate reference system includes a vertical axis (height or depth):</p>
<ul>
<li><p>Lower left corner, coordinate axis 1</p></li>
<li><p>Lower left corner, coordinate axis 2</p></li>
<li><p>Lower left corner, coordinate axis 3 (optional)</p></li>
<li><p>Upper right corner, coordinate axis 1</p></li>
<li><p>Upper right corner, coordinate axis 2</p></li>
<li><p>Upper right corner, coordinate axis 3 (optional)</p></li>
</ul></td>
</tr>
<tr class="even">
<td><p>C</p></td>
<td><p>The coordinate reference system of the values on axis 1 and 2 SHALL be interpreted as WGS84 longitude/latitude (<a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a>) unless a different coordinate reference system is specified in a parameter <code>bbox-crs</code>.</p></td>
</tr>
<tr class="odd">
<td><p>D</p></td>
<td><p>The coordinate values SHALL be within the extent specified for the coordinate reference system.</p></td>
</tr>
</tbody>
</table>
<p>&quot;Intersects&quot; means that the rectangular area specified in the parameter <code>bbox</code> includes a coordinate that is part of the (spatial) geometry of the resource. This includes the boundaries of the geometries (e.g. for curves the start and end position and for surfaces the outer and inner rings).</p>
<p>This standard does not specify requirements for the parameter <code>bbox-crs</code>. Those requirements will be specified in a latter version of this specification.</p>
<p>For WGS84 longitude/latitude the bounding box is in most cases the sequence of minimum longitude, minimum latitude, maximum longitude and maximum latitude. However, in cases where the box spans the anti-meridian the first value (west-most box edge) is larger than the third value (east-most box edge).</p>
<p>The bounding box of the New Zealand Exclusive Economic Zone in WGS84 (from 160.6°E to 170°W and from 55.95°S to 25.89°S) would be represented in JSON as <code>[ 160.6, -55.95, -170, -25.89 ]</code> and in a query as <code>bbox=160.6,-55.95,-170,-25.89</code>.</p>
<p>A template for the definition of the parameter in YAML according to OpenAPI 3.0 is available at <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/parameters/bbox.yaml">bbox.yaml</a>.</p>
<h3 id="_parameter_datetime">Parameter datetime</h3>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 21</strong></p></td>
<td><p><strong>/req/collections/rc-time-definition</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The <code>datetime</code> parameter SHALL have the following characteristics (using an OpenAPI Specification 3.0 fragment):</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode YAML"><code class="sourceCode yaml"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="fu">name:</span><span class="at"> datetime</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="fu">in:</span><span class="at"> query</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="fu">required:</span><span class="at"> false</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="fu">schema:</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5">  <span class="fu">type:</span><span class="at"> string</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="fu">style:</span><span class="at"> form</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="fu">explode:</span><span class="at"> false</span></a></code></pre></div></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 22</strong></p></td>
<td><p><strong>/req/collections/rc-time-response</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>If the <code>datetime</code> parameter is provided, only resources that have a temporal geometry that intersects the temporal information in the <code>datetime</code> parameter SHALL be part of the result set.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>If a resourcee has multiple temporal properties, it is the decision of the API whether only a single temporal property is used to determine the extent or all relevant temporal properties.</p></td>
</tr>
<tr class="even">
<td><p>C</p></td>
<td><p>The <code>datetime</code> parameter SHALL match all resources in the collection that are not associated with a temporal geometry.</p></td>
</tr>
<tr class="odd">
<td><p>D</p></td>
<td><p>The temporal information is either a date-time or a time interval. The parameter value SHALL conform to the following syntax (using <a href="https://tools.ietf.org/html/rfc2234">ABNF</a>):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode java"><code class="sourceCode java"><a class="sourceLine" id="cb10-1" data-line-number="1">interval-closed     = date-time <span class="st">&quot;/&quot;</span> date-time</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">interval-open-start = <span class="st">&quot;../&quot;</span> date-time</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">interval-open-end   = date-time <span class="st">&quot;/..&quot;</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">interval            = interval-closed / interval-open-start / interval-open-end</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">datetime            = date-time / interval</a></code></pre></div></td>
</tr>
<tr class="even">
<td><p>E</p></td>
<td><p>The syntax of <code>date-time</code> is specified by <a href="https://tools.ietf.org/html/rfc3339#section-5.6">RFC 3339, 5.6</a>.</p></td>
</tr>
<tr class="odd">
<td><p>F</p></td>
<td><p>Open ranges in time intervals at the start or end SHALL be supported using a double-dot (<code>..</code>).</p></td>
</tr>
</tbody>
</table>
<p>&quot;Intersects&quot; means that the time (instant or period) specified in the parameter <code>datetime</code> includes a timestamp that is part of the temporal geometry of the resource (again, a time instant or period). For time periods this includes the start and end time.</p>
<p>February 12, 2018, 23:20:52 GMT:</p>
<p><code>time=2018-02-12T23%3A20%3A52Z</code></p>
<p>For resources with a temporal property that is a timestamp (like <code>lastUpdate</code> in the building features), a date-time value would match all resources where the temporal property is identical.</p>
<p>For resources with a temporal property that is a date or a time interval, a date-time value would match all resources where the timestamp is on that day or within the time interval.</p>
<p>February 12, 2018, 00:00:00 GMT to March 18, 2018, 12:31:12 GMT:</p>
<p><code>datetime=2018-02-12T00%3A00%3A00Z%2F2018-03-18T12%3A31%3A12Z</code></p>
<p>February 12, 2018, 00:00:00 UTC or later:</p>
<p><code>datetime=2018-02-12T00%3A00%3A00Z%2F..</code></p>
<p>March 18, 2018, 12:31:12 UTC or earlier:</p>
<p><code>datetime=..%2F2018-03-18T12%3A31%3A12Z</code></p>
<p>A template for the definition of the parameter in YAML according to OpenAPI 3.0 is available at <a href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/parameters/datetime.yaml">datetime.yaml</a>.</p>
<h2 id="general-requirements">General Requirements</h2>
<p>The following general requirements and recomendations apply to all OGC APIs which host Spatial Resources.</p>
<h3 id="_coordinate_reference_systems">Coordinate Reference Systems</h3>
<p>As discussed in Chapter 9 of the <a href="#SDWBP">W3C/OGC Spatial Data on the Web Best Practices document</a>, how to express and share the location of resources in a consistent way is one of the most fundamental aspects of publishing geographic data and it is important to be clear about the coordinate reference system that coordinates are in.</p>
<p>For the reasons discussed in the Best Practices, OGC APIs use WGS84 longitude and latitude as the default coordinate reference system.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 23</strong></p></td>
<td><p><strong>/req/collections/crs84</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Unless the client explicitly requests a different coordinate reference system, all spatial geometries SHALL be in the coordinate reference system <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a> (WGS 84 longitude/latitude) for geometries without height information and <a href="http://www.opengis.net/def/crs/OGC/0/CRS84h">http://www.opengis.net/def/crs/OGC/0/CRS84h</a> (WGS 84 longitude/latitude plus ellipsoidal height) for geometries with height information.</p></td>
</tr>
</tbody>
</table>
<p>The implementations compliant with the Core are not required to support publishing geometries in coordinate reference systems other than <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a>. The Core also does not specify a capability to request geometries in a different reference system than the native one of the published resource. Such a capability will be specified in other OGC API standards.</p>
<h1 id="_requirements_classes_for_encodings">Requirements classes for encodings</h1>
<h2 id="_overview">Overview</h2>
<p>This clause specifies two pre-defined requirements classes for encodings to be used by an OGC API implementation. These encodings are commonly used encodings for spatial data on the web:</p>
<ul>
<li><p><a href="#rc_html">HTML</a></p></li>
<li><p><a href="#rc_geojson">GeoJSON</a></p></li>
</ul>
<p>Neiter of these encodings are mandatory and an implementation of the <a href="#rc_core">Core</a> requirements class may implement either, both, or none of them. <a href="#overview">Clause 6 (Overview)</a> includes a discussion about recommended encodings.</p>
<h2 id="_requirement_class_html">Requirement Class &quot;HTML&quot;</h2>
<p>Geographic information that is only accessible in formats like GeoJSON or GML has two issues:</p>
<ul>
<li><p>The data is not discoverable using the most common mechanism for discovering information, that is the search engines of the Web,</p></li>
<li><p>The data can not be viewed directly in a browser - additional tools are required to view the data.</p></li>
</ul>
<p>Therefore, sharing data on the Web should include publication in HTML. To be consistent with the Web, it should be done in a way that enables users and search engines to access all data.</p>
<p>This is discussed in detail in <a href="https://www.w3.org/TR/sdw-bp/#indexable-by-search-engines">Best Practice 2: Make your spatial data indexable by search engines</a> <a href="#SDWBP">[SDWBP]</a>. This standard therefore <a href="#rec_html">recommends supporting HTML as an encoding</a>.</p>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirements Class</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/html">http://www.opengis.net/spec/OAPI_Common/1.0/req/html</a></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Target type</p></td>
<td><p>Web API</p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#rc_core">Conformance Class &quot;OAPI Core&quot;</a></p></td>
</tr>
<tr class="odd">
<td><p>Dependency</p></td>
<td><p><a href="#HTML5">HTML5</a></p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#schema.org">Schema.org</a></p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 24</strong></p></td>
<td><p><strong>/req/html/definition</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Every <code>200</code>-response of an operation of the API SHALL support the media type <code>text/html</code>.</p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 25</strong></p></td>
<td><p><strong>/req/html/content</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Every <code>200</code>-response of the API with the media type &quot;text/html&quot; SHALL be a <a href="https://www.w3.org/TR/html5/">HTML 5 document</a> that includes the following information in the HTML body:</p>
<ul>
<li><p>all information identified in the schemas of the <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md#responseObject">Response Object</a> in the HTML <code>&lt;body/&gt;</code>, and</p></li>
<li><p>all links in HTML <code>&lt;a/&gt;</code> elements in the HTML <code>&lt;body/&gt;</code>.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Recommendation 10</strong></p></td>
<td><p><strong>/rec/html/schema-org</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>A <code>200</code>-response with the media type <code>text/html</code>, SHOULD include <a href="#schema.org">Schema.org</a> annotations.</p></td>
</tr>
</tbody>
</table>
<h2 id="_requirement_class_geojson">Requirement Class &quot;GeoJSON&quot;</h2>
<p>GeoJSON is a commonly used format that is simple to understand and well supported by tools and software libraries. Since most Web developers are comfortable with using a JSON-based format, supporting GeoJSON is recommended if the resource can be represented in GeoJSON for the intended use.</p>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirements Class</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/geojson">http://www.opengis.net/spec/OAPI_Common/1.0/req/geojson</a></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Target type</p></td>
<td><p>Web API</p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#rc_core">OAPI Core</a></p></td>
</tr>
<tr class="odd">
<td><p>Dependency</p></td>
<td><p><a href="#GeoJSON">GeoJSON</a></p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 26</strong></p></td>
<td><p><strong>/req/geojson/definition</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p><code>200</code>-responses of the server SHALL support the following media types:</p>
<ul>
<li><p><code>application/geo+json</code> for resources that include feature content, and</p></li>
<li><p><code>application/json</code> for all other resources.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 27</strong></p></td>
<td><p><strong>/req/geojson/content</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>Every <code>200</code>-response with the media type <code>application/geo+json</code> SHALL be</p>
<ul>
<li><p>a <a href="https://tools.ietf.org/html/rfc7946#section-3.3">GeoJSON FeatureCollection Object</a> for feature collections, and</p></li>
<li><p>a <a href="https://tools.ietf.org/html/rfc7946#section-3.2">GeoJSON Feature Object</a> for features.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>The schema of all responses with the media type <code>application/json</code> SHALL conform with the JSON Schema specified for that resource.</p></td>
</tr>
</tbody>
</table>
<p>Templates for the definition of the schemas for the GeoJSON responses in OpenAPI definitions are available at <a href="https://raw.githubusercontent.com/opengeospatial/OAPI-Common/master/core/openapi/schemas/featureCollectionGeoJSON.yaml">featureCollectionGeoJSON.yaml</a> and <a href="https://raw.githubusercontent.com/opengeospatial/WOAPI_Common/master/core/openapi/schemas/featureGeoJSON.yaml">featureGeoJSON.yaml</a>. These are generic schemas that do not include any application schema information about specific resource types or their properties.</p>
<h1 id="_requirements_class_openapi_3_0">Requirements class &quot;OpenAPI 3.0&quot;</h1>
<h2 id="_basic_requirements">Basic requirements</h2>
<p>APIs conforming to this requirements class document themselves by an <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#oasDocument">OpenAPI Document</a>.</p>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirements Class</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><a href="http://www.opengis.net/spec/OAPI_Common/1.0/req/oas30">http://www.opengis.net/spec/OAPI_Common/1.0/req/oas30</a></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Target type</p></td>
<td><p>Web API</p></td>
</tr>
<tr class="even">
<td><p>Dependency</p></td>
<td><p><a href="#rc_core">Conformance Class &quot;OAPI Core&quot;</a></p></td>
</tr>
<tr class="odd">
<td><p>Dependency</p></td>
<td><p><a href="#OpenAPI">OpenAPI Specification 3.0.2</a></p></td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 28</strong></p></td>
<td><p><strong>/req/oas30/oas-definition-1</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>An OpenAPI definition in JSON using the media type <code>application/vnd.oai.openapi+json;version=3.0</code> and a HTML version of the API definition using the media type <code>text/html</code> SHALL be available.</p></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Caution</strong></p>
<p><a href="https://github.com/opengeospatial/WFS_FES/issues/117">ISSUE 117</a><br />
The OpenAPI media type has not been registered yet with IANA and will likely change. We need to update the media type after registration.</p>
</blockquote>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 29</strong></p></td>
<td><p><strong>/req/oas30/oas-definition-2</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The JSON representation SHALL conform to the <a href="#OpenAPI">OpenAPI Specification, version 3.0</a>.</p></td>
</tr>
</tbody>
</table>
<p>Two example OpenAPI documents are included in <a href="#oas30_example">Annex B</a>.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 30</strong></p></td>
<td><p><strong>/req/oas30/oas-impl</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The API SHALL implement all capabilities specified in the OpenAPI definition.</p></td>
</tr>
</tbody>
</table>
<h2 id="_complete_definition">Complete definition</h2>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 31</strong></p></td>
<td><p><strong>/req/oas30/completeness</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>The OpenAPI definition SHALL specify for each operation all <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#httpCodes">HTTP Status Codes</a> and <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#responseObject">Response Objects</a> that the API uses in responses.</p></td>
</tr>
<tr class="odd">
<td><p>B</p></td>
<td><p>This includes the successful execution of an operation as well as all error situations that originate from the server.</p></td>
</tr>
</tbody>
</table>
<p>Note that APIs that, for example, are access-controlled (see <a href="#security">Security</a>), support web cache validation, CORS or that use HTTP redirection will make use of additional HTTP status codes beyond regular codes such as <code>200</code> for successful GET requests and <code>400</code>, <code>404</code> or <code>500</code> for error situations. See <a href="#http_status_codes">HTTP Status Codes</a>.</p>
<p>Clients have to be prepared to receive responses not documented in the OpenAPI definition. For example, additional errors may occur in the transport layer outside of the server.</p>
<h2 id="exceptions">Exceptions</h2>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 32</strong></p></td>
<td><p><strong>/req/oas30/exceptions-codes</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>For error situations that originate from an API server, the API definition SHALL cover all applicable HTTP Status Codes.</p></td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="sourceCode YAML"><code class="sourceCode yaml"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="fu">description:</span><span class="at"> An error occurred.</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="fu">content:</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3">  <span class="fu">application/json:</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">    <span class="fu">schema:</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5">      <span class="fu">$ref:</span><span class="at"> https://raw.githubusercontent.com/opengeospatial/OAPI/openapi/schemas/exception.yaml</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6">  <span class="fu">text/html:</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7">    <span class="fu">schema:</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">      <span class="fu">type:</span><span class="at"> string</span></a></code></pre></div>
<h2 id="security">Security</h2>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 33</strong></p></td>
<td><p><strong>/req/oas30/security</strong></p></td>
</tr>
<tr class="even">
<td><p>A</p></td>
<td><p>For cases, where the operations of the API are access-controlled, the security scheme(s) and requirements SHALL be documented in the OpenAPI definition.</p></td>
</tr>
</tbody>
</table>
<p>The OpenAPI specification currently supports the following <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#security-scheme-object">security schemes</a>:</p>
<ul>
<li><p>HTTP authentication,</p></li>
<li><p>an API key (either as a header or as a query parameter),</p></li>
<li><p>OAuth2’s common flows (implicit, password, application and access code) as defined in RFC6749, and</p></li>
<li><p>OpenID Connect Discovery.</p></li>
</ul>
<h1 id="mediatypes">Media Types</h1>
<p>JSON media types that would typically be used in on OGC API that supports JSON are</p>
<ul>
<li><p><code>application/geo+json</code> for feature collections and features, and</p></li>
<li><p><code>application/json</code> for all other resources.</p></li>
</ul>
<p>XML media types that would typically occur in on OGC API that supports XML are</p>
<ul>
<li><p><code>application/gml+xml;version=3.2</code> for any GML 3.2 feature collections and features,</p></li>
<li><p><code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf0</code> for GML 3.2 feature collections and features conforming to the GML Simple Feature Level 0 profile,</p></li>
<li><p><code>application/gml+xml;version=3.2;profile=http://www.opengis.net/def/profile/ogc/2.0/gml-sf2</code> for GML 3.2 feature collections and features conforming to the GML Simple Feature Level 2 profile, and</p></li>
<li><p><code>application/xml</code> for all other resources.</p></li>
</ul>
<p>The typical HTML media type for all &quot;web pages&quot; in an OGC API would be <code>text/html</code>.</p>
<p>The media types for an OpenAPI definition are <code>vnd.oai.openapi+json;version=3.0</code> (JSON) and <code>application/vnd.oai.openapi;version=3.0</code> (YAML).</p>
<blockquote>
<p><strong>Note</strong></p>
<p>The OpenAPI media type has not been registered yet with IANA and may change.</p>
</blockquote>
<h1 id="_abstract_test_suite_normative">Abstract Test Suite (Normative)</h1>
<blockquote>
<p><strong>Caution</strong></p>
<p><a href="https://github.com/opengeospatial/WFS_FES/issues/112">ISSUE 112</a><br />
Currently, only the Core and OpenAPI 3.0 conformance classes are addressed by the Abstract Test Suite. The other four conformance classes (HTML, GeoJSON, GML-SF0, GML-SF2) are not yet covered. How they will be addressed is the subject of on-going discussions within the WFS 3.0 SWG.</p>
</blockquote>
<h2 id="_a_1_overview">A.1 Overview</h2>
<p>WFS 3.0 is not a Web Service in the traditional sense. Rather, it defines the behavior and content of a set of Resources exposed through an RESTful Application Programing Interface (API). Compliance testing for WFS 3.0 and similar standards must answer three questions:</p>
<ol type="1">
<li><p>Are the capabilities advertised through the API Description compliant with the standard?</p></li>
<li><p>Does the API implement those capabilities as advertised?</p></li>
<li><p>Do the resources returned by the micro-services meet the structure and content requirements of the standard?</p></li>
</ol>
<p>Further complicating the issue, an API may expose resources in addition to those defined by the standard. A test engine must be able to traverse the API description document, identify test points, and ignore resource paths which are not to be tested. The process for identifying test points is provided in Section A.4.3.</p>
<h2 id="_a_2_conventions">A.2 Conventions</h2>
<p>The following conventions apply to this Abstract Test Suite:</p>
<h3 id="_a_2_1_path_templates">A.2.1 Path Templates</h3>
<p>Path templates are used throughout these test suites. Path templating refers to the usage of curly braces “{}” to mark a section of a URL path that can be replaced using path parameters. The terms used to describe portions of these templates are based on the URL syntax described in RFC 3986.</p>
<ul>
<li><p>scheme: http | https</p></li>
<li><p>authority: DNS name of the server with optional port number</p></li>
<li><p>path: The slash delimited identifier for a resource on the server</p></li>
<li><p>query: query parameters following the &quot;?&quot; character</p></li>
<li><p>fragment: identifies an element within the resource. Preceded by the &quot;#&quot; character</p></li>
</ul>
<h3 id="_a_2_2_api_description_document">A.2.2 API Description Document</h3>
<p>The WFS 3.0 standard does not mandate a standard format for the API Description Document. However, some form of standard is needed if tests are to be accurately described and implemented. Therefore, this Abstract Test Suite asserts that the API Description document is compliant with OpenAPI 3.0. This Test Suite will be updated if and when an alternative is commonly adopted.</p>
<h3 id="_a_2_3_resource_encodings">A.2.3 Resource Encodings</h3>
<p>The WFS 3.0 standard does not mandate a standard encoding for resources returned by the API. Yet a compliance test requires some minimal level of expected behavior. Therefore, this Abstract Test Suite asserts that the API returns resources encoded in HTML and GeoJSON. Since no compliance test suite exists for these encodings at this time, the resources shall be presented to the test operator for human inspection.</p>
<h3 id="_a_2_4_processing_security_objects">A.2.4 Processing Security Objects</h3>
<p>OpenAPI does not provide a standard way to associate a security requirement with a single server URI. Therefore, WFS 3.0 compliance tests will have to make that association through the runtime challenge-response transaction. At this time the role of the Security Objects should be considered advisory.</p>
<p>Security Requirements can be defined at both the OpanAPI root level and at the Operation Object level. The following rules should be followed to understand the scope of a Security Requirement:</p>
<ul>
<li><p>The Security Requirements defined at the root level are the default requirements for all operations and servers.</p></li>
<li><p>If Security Requirements are defined at the Operation level, then those Requirements, and not the ones defined at the OpenAPI level, shall be used with that operation.</p></li>
<li><p>An empty set of Security Requirements at the Operation level indicates that there are no security requirements for that operation.</p></li>
</ul>
<p>Note: this allows operations to opt-out of security requirements defined at the OpenAPI level.</p>
<h3 id="_a_2_4_parameters">A.2.4 Parameters</h3>
<p>The following observations apply for WFS 3.0 parameters:</p>
<ol type="1">
<li><p>WFS 3.0 does not use cookies.</p></li>
<li><p>Query parameters follow common Web practice</p></li>
<li><p>Header parameters are restricted to custom headers</p></li>
<li><p>For path parameters, the name of the parameter must match the name of the variable in the path template in the path object</p></li>
</ol>
<p>Parameters are defined at the Path Item and Operation level. Parameters defined at the Path Item level must apply to all operations under that Path item. These parameters may be modified at the Operation level but they may not be removed.</p>
<h3 id="_a_2_5_testable_paths">A.2.5 Testable Paths</h3>
<p>A testable path is a path which corresponds to one of the paths defined in the WFS 3.0 specification. There are three alternatives for making this determination:</p>
<ol type="1">
<li><p>The path URI matches – this is the simplest approach but may be subject to error</p></li>
<li><p>Use mandatory tags in the tags field of the Operation Object</p></li>
<li><p>Use standardized operation ids for the operationId field of the Operation Object</p></li>
</ol>
<p>A testable path is validated against the rules for that path. At a minimum that includes:</p>
<ol type="1">
<li><p>Building a list of all parameters which are defined in the standard</p></li>
<li><p>Validate that the mandatory parameters are present and required</p></li>
<li><p>Validate type, format, etc. for each parameter in the list.</p></li>
<li><p>Validate that there are no mandatory parameters which are not on the list.</p></li>
</ol>
<h2 id="_a_3_requirements_trace_matrix">A.3 Requirements Trace Matrix</h2>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><strong>Requirement 1:</strong> API Landing Page Operation<br />
The server SHALL support the HTTP GET operation at the path /.<br />
Tests: A.4.2.1</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 2:</strong> API Landing Page Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200. The content of that response SHALL be based upon the OpenAPI 3.0 schema root.yaml and include at least links to the following resources:<br />
- /api (relation type 'service')<br />
- /conformance (relation type 'conformance')<br />
- /collections (relation type 'data')<br />
Tests: A.4.2.2<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 3:</strong> API Definition Operation<br />
The server SHALL support the HTTP GET operation at the path /api.<br />
Tests: A.4.2.3<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 4:</strong> API Definition Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200. The server SHALL return an API definition document.<br />
Tests: A.4.2.3, A.4.2.4, A.4.4.1<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 5:</strong> Conformance Class Operation<br />
The server SHALL support the HTTP GET operation at the path /conformance.<br />
Tests: A.4.4.2<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 6:</strong> Conformance Class Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200. The content of that response SHALL be based upon the OpenAPI 3.0 schema req-classes.yaml and list all WFS 3.0 requirements classes that the server conforms to.<br />
Tests: A.4.4.3<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 7:</strong> HTTP 1.1<br />
The server SHALL conform to HTTP 1.1.<br />
If the server supports HTTPS, the server SHALL also conform to HTTP over TLS.<br />
Tests: A.4.1.1<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 8:</strong> Coordinate Reference Systems<br />
Unless the client explicitly requests a different coordinate reference system, all spatial geometries SHALL be in the coordinate reference system <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a> (WGS84 longitude/latitude)<br />
Tests: A.4.1.2<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 9:</strong> Feature Collections Metadata Operation<br />
The server SHALL support the HTTP GET operation at the path /collections.<br />
Tests: A.4.4.4<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 10:</strong> Feature Collections Metadata Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200. The content of that response SHALL be based upon the OpenAPI 3.0 schema content.yaml.<br />
Tests: A.4.4.5<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 11:</strong> Feature Collections Metadata Links<br />
A 200-response SHALL include the following links in the links property of the response:<br />
- a link to this response document (relation: self),<br />
- a link to the response document in every other media type supported by the server (relation: alternate).<br />
All links SHALL include the rel and type link parameters.<br />
Tests: A.4.4.5<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 12:</strong> Feature Collections Metadata Items<br />
For each feature collection in this distribution of the dataset, an item SHALL be provided in the property collections.<br />
Tests: A.4.4.5, A.4.4.6<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 13:</strong> Feature Collections Metadata Items Links<br />
For each feature collection in this distribution of the dataset, the links property of the collection SHALL include an item for each supported encoding with a link to the collection resource (relation: item).<br />
All links SHALL include the rel and type properties.<br />
Tests: A.4.4.6<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 14:</strong> Feature Collections Metadata Extent<br />
For each feature collection, the extent property, if provided, SHALL be a bounding box that includes all spatial and temporal geometries in this collection.<br />
If a feature has multiple properties with spatial or temporal information, it is the decision of the server whether only a single spatial or temporal geometry property is used to determine the extent or all relevant geometries.<br />
Tests: A.4.4.6<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 15:</strong> Feature Collection Metadta Operation<br />
The server SHALL support the HTTP GET operation at the path /collections/{collectionId}. collectionId is the <code>id</code> property in the feature collections metadata (JSONPath: $.collections[*].id).<br />
Tests: A.4.4.7<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 16:</strong> Feature Collection Metadata Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200. The content of that response SHALL be the same as the content for this feature collection in the /collections response.<br />
Tests: A.4.4.8<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 17:</strong> Feature Collection Operation<br />
For every feature collection identified in the metadata about the feature collection (path /), the server SHALL support the HTTP GET operation at the path /collections/{collectionId}/items where {collectionId} is the <code>id</code> property in the feature collections metadata (JSONPath: $.collections[*].id).<br />
Tests: A.4.4.9<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 18:</strong> Feature Collection Operation Limit Parameter<br />
Each feature collection operation SHALL support a parameter limit with the following characteristics (using an OpenAPI Specification 3.0 fragment):<br />
Tests: A.4.4.11<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 19:</strong> Feature Collection Operation Limit Parameter Response<br />
The response SHALL not contain more features than specified by the optional limit parameter. If the API definition specifies a maximum value for limit parameter, the response SHALL not contain more features than this maximum value.<br />
Only items are counted that are on the first level of the collection. Any nested objects contained within the explicitly requested items SHALL not be counted.<br />
Tests: A.4.4.11<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 20:</strong> Feature Collection Operation BoundingBox Parameter<br />
Each feature collection operation SHALL support a parameter bbox with the following characteristics (using an OpenAPI Specification 3.0 fragment):<br />
Tests: A.4.4.12<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 21:</strong> Feature Collection Operation BoundingBox Parameter Response<br />
Only features that have a spatial geometry that intersects the bounding box SHALL be part of the result set, if the bbox parameter is provided.<br />
The bounding box is provided as four or six numbers, depending on whether the coordinate reference system includes a vertical axis (height or depth):<br />
- Lower left corner, coordinate axis 1<br />
- Lower left corner, coordinate axis 2<br />
- Lower left corner, coordinate axis 3 (optional)<br />
- Upper right corner, coordinate axis 1<br />
- Upper right corner, coordinate axis 2<br />
- Upper right corner, coordinate axis 3 (optional)<br />
The coordinate reference system of the values SHALL be interpreted as WGS84 longitude/latitude (<a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a>) unless a different coordinate reference system is specified in a parameter bbox-crs.<br />
Tests: A.4.4.12<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 22:</strong> Feature Collection Operation Time Parameter<br />
Each feature collection operation SHALL support a parameter time with the following characteristics (using an OpenAPI Specification 3.0 fragment):<br />
Tests: A.4.4.13<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 23:</strong> Feature Collection Operation Time Parameter Response<br />
Only features that have a temporal geometry that intersects the timestamp or time period SHALL be part of the result set, if the time parameter is provided.<br />
The temporal information is either a date-time or a period string that adheres to RFC3339.<br />
If a feature has multiple temporal properties, it is the decision of the server whether only a single temporal property is used to determine the extent or all relevant temporal properties.<br />
Tests: A.4.4.13<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 24:</strong> Feature Collection Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200.<br />
Tests: A.4.4.10<br />
The response SHALL only include features selected by the request.<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 25:</strong> Feature Collection Response Links<br />
A 200-response SHALL include the following links:<br />
- a link to this response document (relation: self),<br />
- a link to the response document in every other media type supported by the service (relation: alternate).<br />
Tests: A.4.4.10<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 26:</strong> Feature Collection Response Links Parameters<br />
All links SHALL include the rel and type link parameters.<br />
Tests: A.4.4.10<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 27:</strong> Feature Collection Response timeStamp<br />
If a property timeStamp is included in the response, the value SHALL be set to the time stamp when the response was generated.<br />
Tests: A.4.4.10<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 28:</strong> Feature Collection Response numberMatched<br />
If a property numberMatched is included in the response, the value SHALL be identical to the number of features in the feature collections that match the selection parameters like bbox, time or additional filter parameters.<br />
A server MAY omit this information in a response, if the information about the number of matching features is not known or difficult to compute.<br />
Tests: A.4.4.10<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 29:</strong> Feature Collection Response numberReturned<br />
If a property numberReturned is included in the response, the value SHALL be identical to the number of features in the response.<br />
A server MAY omit this information in a response, if the information about the number of features in the response is not known or difficult to compute.<br />
Tests: A.4.4.10<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 30:</strong> Feature Operation<br />
For every feature in a feature collection (path /collections/{collectionId}/items), the service SHALL support the HTTP GET operation at the path /collections/{collectionId}/items/{featureId}. The parameter {collectionId} is each <code>id</code> property in the feature collection metadata (JSONPath: $.collections[*].id). {featureId} is a local identifier of the feature.<br />
Tests: A.4.4.14<br />
</p></td>
</tr>
<tr class="odd">
<td><p><strong>Requirement 31:</strong> Feature Opearation Response<br />
A successful execution of the operation SHALL be reported as a response with a HTTP status code 200.<br />
Tests: A.4.4.15<br />
</p></td>
</tr>
<tr class="even">
<td><p><strong>Requirement 32:</strong> Feature Operation Response Links<br />
A 200-response SHALL include the following links in the response:<br />
- a link to the response document (relation: self),<br />
- a link to the response document in every other media type supported by the service (relation: alternate), and<br />
- a link to the feature collection that contains this feature (relation: collection).<br />
All links SHALL include the rel and type link parameters.<br />
Tests: A.4.4.15<br />
</p></td>
</tr>
</tbody>
</table>
<h2 id="_a_4_abstract_test">A.4 Abstract Test</h2>
<p>The Test Approach used in the WFS 3.0 Abstract Test Suite includes four steps:</p>
<ol type="1">
<li><p>Identify the test points</p></li>
<li><p>Verify that API descriptions of the test points comply with the WFS 3.0 standard</p></li>
<li><p>Verify that the micro-services at each test point behave in accordance with the WFS 3.0 standard.</p></li>
<li><p>Verify that the resources returned at each test point are in accordance with the WFS 3.0 standard and any referenced content standard.</p></li>
</ol>
<p>Identification of test points is a new requirement with WFS 3.0. Since an API is not a Web Service, there may be RESTful endpoints advertised which are not intended to be targets of the compliance testing. Section A.4.2 describes the process for crawling the API Description document and extracting those URLs which should be tested as well as the path(s) they should be tested with. The concatenation of a Server URL with a path forms a test point.</p>
<p>Section A.4.3 describes how the test points are exercised to determine compliance with the WFS 3.0 standard.</p>
<h3 id="_a_4_1_general_tests">A.4.1 General Tests</h3>
<h4 id="_a_4_1_1_http_1_1">A.4.1.1 HTTP 1.1</h4>
<h5 id="_a_test_purpose">a) Test Purpose:</h5>
<p>Validate that the WFS services advertised through the API conform with HTTP 1.1.</p>
<h5 id="_b_pre_conditions">b) Pre-conditions:</h5>
<p>none</p>
<h5 id="_c_test_method">c) Test Method:</h5>
<ol type="1">
<li><p>All compliance tests shall be configured to use the HTTP 1.1 protocol exclusively.</p></li>
</ol>
<h5 id="_d_references">d) References:</h5>
<p>Requirement 7</p>
<h4 id="_a_4_1_2_coordinate_reference_systems">A.4.1.2 Coordinate Reference Systems</h4>
<h5 id="_a_test_purpose_2">a) Test Purpose:</h5>
<p>Validate that all spatial geometries provided through a WFS service are in the CRS84 spatial reference system unless otherwise requested by the client.</p>
<h5 id="_b_pre_conditions_2">b) Pre-conditions:</h5>
<p>none</p>
<h5 id="_c_test_method_2">c) Test Method:</h5>
<ol type="1">
<li><p>Do not specify a coordinate reference system in any request. All spatial data should be in the CRS84 reference system.</p></li>
<li><p>Validate retrieved spatial data using the CRS84 reference system.</p></li>
</ol>
<h5 id="_d_references_2">d) References:</h5>
<p>Requirement 8</p>
<h3 id="_a_4_2_retrieve_the_api_description">A.4.2 Retrieve the API Description</h3>
<h4 id="_a_4_2_1_landing_page_retrieval">A.4.2.1 Landing Page Retrieval</h4>
<h5 id="_a_test_purpose_3">a) Test Purpose:</h5>
<p>Validate that a landing page can be retrieved from the expected location.</p>
<h5 id="_b_pre_conditions_3">b) Pre-conditions:</h5>
<ul>
<li><p>A URL to the server hosting the landing page is known.</p></li>
<li><p>The test client can authenticate to the server.</p></li>
<li><p>The test client has sufficient privileges to access the landing page.</p></li>
</ul>
<h5 id="_c_test_method_3">c) Test Method:</h5>
<ol type="1">
<li><p>Issue an HTTP GET request to the URL {root}/</p></li>
<li><p>Validate that a document was returned with a status code 200</p></li>
<li><p>Validate the contents of the returned document using test A.4.2.2</p></li>
</ol>
<h5 id="_d_references_3">d) References:</h5>
<p>Requirement 1</p>
<h4 id="_a_4_2_2_landing_page_validation">A.4.2.2 Landing Page Validation</h4>
<h5 id="_a_test_purpose_4">a) Test Purpose:</h5>
<p>Validate that the landing page complies with the require structure and contents.</p>
<h5 id="_b_pre_conditions_4">b) Pre-conditions:</h5>
<ul>
<li><p>The landing page has been retrieved from the server</p></li>
</ul>
<h5 id="_c_test_method_4">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the landing page against the root.yaml schema</p></li>
<li><p>Validate that the landing page includes a “service” link to API Definition</p></li>
<li><p>Validate that the landing page includes a “conformance” link to the conformance class document</p></li>
<li><p>Validate that the landing page includes a “data” link to the WFS contents.</p></li>
</ol>
<h5 id="_d_references_4">d) References:</h5>
<p>Requirement 2</p>
<h4 id="_a_4_2_3_openapi_document_retrieval">A.4.2.3 OpenAPI Document Retrieval</h4>
<p>Note: The URI for the API definition is provided through the landing page. However, that does not mean that the API definition resides on the same server as the landing page. Test clients should be prepared for a WFS 3.0 implementation which is distributed across multiple servers.</p>
<h5 id="_a_test_purpose_5">a) Test Purpose:</h5>
<p>Validate that the API Definition document can be retrieved from the expected location.</p>
<h5 id="_b_pre_conditions_5">b) Pre-conditions:</h5>
<ul>
<li><p>A URL to the server hosting the API Definition document is known.</p></li>
<li><p>The test client can authenticate to the server.</p></li>
<li><p>The test client has sufficient privileges to assess the API Definition document.</p></li>
</ul>
<h5 id="_c_test_method_5">c) Test Method:</h5>
<ol type="1">
<li><p>Issue an HTTP GET request to the URL {server}/api</p></li>
<li><p>Validate that a document was returned with a status code 200</p></li>
<li><p>Validate the contents of the returned document using test A.4.2.4</p></li>
</ol>
<h5 id="_d_references_5">d) References:</h5>
<p>Requirements 3 and 4</p>
<h4 id="_a_4_2_4_api_definition_validation">A.4.2.4 API Definition Validation</h4>
<h5 id="_a_test_purpose_6">a) Test Purpose:</h5>
<p>Validate that the API Definition page complies with the require structure and contents.</p>
<h5 id="_b_pre_conditions_6">b) Pre-conditions:</h5>
<ul>
<li><p>The API Definition document has been retrieved from the server</p></li>
</ul>
<h5 id="_c_test_method_6">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the API Definition document against the OpenAPI 3.0 schema</p></li>
<li><p>Identify the Test Points as described in test A.4.3</p></li>
<li><p>Process the API Definition document as described in test A.4.4</p></li>
</ol>
<h5 id="_d_references_6">d) References:</h5>
<p>Requirement 4</p>
<h3 id="_a_4_3_identify_the_test_points">A.4.3 Identify the Test Points</h3>
<p>Identification of the test points is a pre-condition to performing a compliance test. Thisprocess starts with A.4.3.1.</p>
<h4 id="_a_4_3_1_identify_test_points">A.4.3.1 Identify Test Points:</h4>
<h5 id="_a_purpose">a) Purpose:</h5>
<p>To identify the test points associated with each Path in the OpenAPI document</p>
<h5 id="_b_pre_conditions_7">b) Pre-conditions:</h5>
<ul>
<li><p>An OpenAPI document has been obtained</p></li>
<li><p>A list of URLs for the servers to be included in the compliance test has been provided</p></li>
<li><p>A list of the paths specified in the WFS 3.0 specification</p></li>
</ul>
<h5 id="_c_method">c) Method:</h5>
<p>FOR EACH paths property in the OpenAPI document If the path name is one of those specified in the WFS 3.0 specification Retrieve the Server URIs using A.4.3.2. FOR EACH Server URI Concatenate the Server URI with the path name to form a test point. Add that test point to the list.</p>
<h5 id="_d_references_7">d) References:</h5>
<p>None</p>
<h4 id="_a_4_3_2_identify_server_uris">A.4.3.2 Identify Server URIs:</h4>
<h5 id="_a_purpose_2">a) Purpose:</h5>
<p>To identify all server URIs applicable to an OpenAPI Operation Object</p>
<h5 id="_b_pre_conditions_8">b) Pre-conditions:</h5>
<ul>
<li><p>Server Objects from the root level of the OpenAPI document have been obtained</p></li>
<li><p>A Path Item Object has been retrieved</p></li>
<li><p>An Operation Object has been retrieved</p></li>
<li><p>The Operation Object is associated with the Path Item Object</p></li>
<li><p>A list of URLs for the servers to be included in the compliance test has been provided</p></li>
</ul>
<h5 id="_c_method_2">c) Method:</h5>
<p>1) Identify the Server Objects which are in-scope for this operation</p>
<ul>
<li><p>IF Server Objects are defined at the Operation level, then those and only those Server Objects apply to that Operation.</p></li>
<li><p>IF Server Objects are defined at the Path Item level, then those and only those Server Objects apply to that Path Item.</p></li>
<li><p>IF Server Objects are not defined at the Operation level, then the Server Objects defined for the parent Path Item apply to that Operation.</p></li>
<li><p>IF Server Objects are not defined at the Path Item level, then the Server Objects defined for the root level apply to that Path.</p></li>
<li><p>IF no Server Objects are defined at the root level, then the default server object is assumed as described in the OpenAPI specification.</p></li>
</ul>
<p>2) Process each Server Object using A.4.3.3.</p>
<p>3) Delete any Server URI which does not reference a server on the list of servers to test.</p>
<h5 id="_d_references_8">d) References:</h5>
<p>None</p>
<h4 id="_a_4_3_3_process_server_object">A.4.3.3 Process Server Object:</h4>
<h5 id="_a_purpose_3">a) Purpose:</h5>
<p>To expand the contents of a Server Object into a set of absolute URIs.</p>
<h5 id="_b_pre_conditions_9">b) Pre-conditions:</h5>
<ul>
<li><p>A Server Object has been retrieved</p></li>
</ul>
<h5 id="_c_method_3">c) Method:</h5>
<p>Processing the Server Object results in a set of absolute URIs. This set contains all of the URIs that can be created given the URI template and variables defined in that Server Object.</p>
<ol type="1">
<li><p>If there are no variables in the URI template, then add the URI to the return set.</p></li>
<li><p>For each variable in the URI template which does not have an enumerated set of valid values:</p>
<ul>
<li><p>generate a URI using the default value,</p></li>
<li><p>add this URI to the return set,</p></li>
<li><p>flag this URI as non-exhaustive</p></li>
</ul></li>
<li><p>For each variable in the URI template which has an enumerated set of valid values:</p>
<ul>
<li><p>generate a URI for each value in the enumerated set,</p></li>
<li><p>add each generated URI to the return set.</p></li>
</ul></li>
<li><p>Perform this processing in an iterative manner so that there is a unique URI for all possible combinations of enumerated and default values.</p></li>
<li><p>Convert all relative URIs to absolute URIs by rooting them on the URI to the server hosting the OpenAPI document.</p></li>
</ol>
<h5 id="_d_references_9">d) References:</h5>
<p>None</p>
<h3 id="_a_4_4_processing_the_openapi_document">A.4.4 Processing the OpenAPI Document</h3>
<h4 id="_a_4_4_1_validate_api_path">A.4.4.1 Validate /api path</h4>
<h5 id="_a_test_purpose_7">a) Test Purpose:</h5>
<p>Validate API definition provided through the /api path it the athoritative definition of this API. Validate that this resource exists at the expected location and that it complies with the appropirate schema.</p>
<h5 id="_b_pre_conditions_10">b) Pre-conditions:</h5>
<ul>
<li><p>A URL to the server hosting the API definition document is known</p></li>
</ul>
<h5 id="_c_test_method_7">c) Test Method:</h5>
<ol type="1">
<li><p>Issue an HTTP GET request to the URL {server}/api</p></li>
<li><p>Validate that a document was returned with a status code of 200</p></li>
<li><p>Validate the returned document against the OpenAPI 3.0 schema</p></li>
</ol>
<h5 id="_d_references_10">d) References:</h5>
<p>Requirement 4</p>
<h4 id="_a_4_4_2_validate_conformance_operation">A.4.4.2 Validate Conformance Operation</h4>
<h5 id="_a_test_purpose_8">a) Test Purpose:</h5>
<p>Validate that Conformance Operation behaves as required.</p>
<h5 id="_b_pre_conditions_11">b) Pre-conditions:</h5>
<ul>
<li><p>Path = /conformance</p></li>
</ul>
<h5 id="_c_test_method_8">c) Test Method:</h5>
<p>DO FOR each /conformance test point</p>
<ol type="1">
<li><p>Issue an HTTP GET request using the test point URI</p></li>
<li><p>Go to test A.4.4.3.</p></li>
</ol>
<h5 id="_d_references_11">d) References:</h5>
<p>Requirement 5</p>
<h4 id="_a_4_4_3_validate_conformance_operation_response">A.4.4.3 Validate Conformance Operation Response</h4>
<h5 id="_a_test_purpose_9">a) Test Purpose:</h5>
<p>Validate the Response to the Conformance Operation.</p>
<h5 id="_b_pre_conditions_12">b) Pre-conditions:</h5>
<ul>
<li><p>Path = /conformance</p></li>
<li><p>A Conformance document has been retrieved</p></li>
</ul>
<h5 id="_c_test_method_9">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the retrieved document against the classes.yaml schema.</p></li>
<li><p>Record all reported compliance classes and associate that list with the test point. This information will be used in latter tests.</p></li>
</ol>
<h5 id="_d_references_12">d) References:</h5>
<p>Requirement 6</p>
<h4 id="_a_4_4_4_validate_the_feature_collections_metadata_operation">A.4.4.4 Validate the Feature Collections Metadata Operation</h4>
<h5 id="_a_test_purpose_10">a) Test Purpose:</h5>
<p>Validate that the Feature Collections Metadata Operation behaves as required</p>
<h5 id="_b_pre_conditions_13">b) Pre-conditions:</h5>
<ul>
<li><p>Path = /collections</p></li>
</ul>
<h5 id="_c_test_method_10">c) Test Method:</h5>
<p>DO FOR each /collections test point</p>
<ul>
<li><p>Issue an HTTP GET request using the test point URI</p></li>
<li><p>Go to test A.4.4.5</p></li>
</ul>
<h5 id="_d_references_13">d) References:</h5>
<p>Requirement 9</p>
<h4 id="_a_4_4_5_validate_the_feature_collections_metadata_operation_response">A.4.4.5 Validate the Feature Collections Metadata Operation Response</h4>
<h5 id="_a_test_purpose_11">a) Test Purpose:</h5>
<p>Validate that response to the Feature Collection Metadata Operation.</p>
<h5 id="_b_pre_conditions_14">b) Pre-conditions:</h5>
<ul>
<li><p>A Feature Collection Metadata document has been retrieved</p></li>
</ul>
<h5 id="_c_test_method_11">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the retrieved document against the content.yaml schema.</p></li>
<li><p>Validate that the retrieved document includes links for:</p>
<ul>
<li><p>Itself</p></li>
<li><p>Alternate encodings of this document in every other media type as identified by the compliance classes for this server.</p></li>
</ul></li>
<li><p>Validate that each link includes a rel and type parameter</p></li>
<li><p>Validate that the returned document includes a collections property for each collection in the dataset.</p></li>
<li><p>For each collections property, validate the metadata for that collection using test A.4.4.6</p></li>
</ol>
<h5 id="_d_references_14">d) References:</h5>
<p>Requirements 10, 11, and 12</p>
<h4 id="_a_4_4_6_validate_a_collections_metadata_document">A.4.4.6 Validate a Collections Metadata document</h4>
<h5 id="_a_test_purpose_12">a) Test Purpose:</h5>
<p>Validate a Collections Metadata document.</p>
<h5 id="_b_pre_conditions_15">b) Pre-conditions:</h5>
<ul>
<li><p>A Collection metadata document has been retrieved.</p></li>
</ul>
<h5 id="_c_test_method_12">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the collection metadata against the collectionInfo.yaml schema</p></li>
<li><p>Validate that the collection metadata document includes links to the collection for each supported media type as identified by the compliance classes for this server.</p></li>
<li><p>Validate that each link includes a rel and type parameter</p></li>
<li><p>Validate the extent property if it is provided</p></li>
<li><p>Retrieve the collection using the id property and test A.4.4.7.</p></li>
</ol>
<h5 id="_d_references_15">d) References:</h5>
<p>Requirement 12, 13, 14</p>
<h4 id="_a_4_4_7_validate_the_feature_collection_metadata_operation">A.4.4.7 Validate the Feature Collection Metadata Operation</h4>
<h5 id="_a_test_purpose_13">a) Test Purpose:</h5>
<p>Validate that the Feature Collection Metadata Operation behaves as required</p>
<h5 id="_b_pre_conditions_16">b) Pre-conditions:</h5>
<ul>
<li><p>A feature collection name is provided by test A.4.4.6</p></li>
<li><p>Path = /collections/{collectionId}</p></li>
</ul>
<h5 id="_c_test_method_13">c) Test Method:</h5>
<p>DO FOR each /collections{collectionId} test point</p>
<ul>
<li><p>Issue an HTTP GET request using the test point URI</p></li>
<li><p>Go to test A.4.4.8</p></li>
</ul>
<h5 id="_d_references_16">d) References:</h5>
<p>Requirement 15</p>
<h4 id="_a_4_4_8_validate_the_feature_collection_metadata_operation_response">A.4.4.8 Validate the Feature Collection Metadata Operation Response</h4>
<h5 id="_a_test_purpose_14">a) Test Purpose:</h5>
<p>Validate that response to the Feature Collection Metadata Operation.</p>
<h5 id="_b_pre_conditions_17">b) Pre-conditions:</h5>
<ul>
<li><p>A Feature Collection Metadata document has been retrieved</p></li>
</ul>
<h5 id="_c_test_method_14">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the retrieved document against the collectionInfo.yaml schema.</p></li>
<li><p>Validate that this is the same document as that processed in Test A.4.4.6</p></li>
</ol>
<h5 id="_d_references_17">d) References:</h5>
<p>Requirement 16</p>
<h4 id="_a_4_4_9_validate_the_get_features_operation">A.4.4.9 Validate the Get Features Operation</h4>
<h5 id="_a_test_purpose_15">a) Test Purpose:</h5>
<p>Validate that the Get Features Operation behaves as required.</p>
<h5 id="_b_pre_conditions_18">b) Pre-conditions:</h5>
<ul>
<li><p>A feature collection name is provided by test A.4.4.6</p></li>
<li><p>Path = /collections/{collectionId}/items</p></li>
</ul>
<h5 id="_c_test_method_15">c) Test Method:</h5>
<p>DO FOR each /collections{collectionId}/items test point</p>
<ul>
<li><p>Issue an HTTP GET request using the test point URI</p></li>
<li><p>Go to test A.4.4.10</p></li>
</ul>
<h5 id="_d_references_18">d) References:</h5>
<p>Requirement 17</p>
<h4 id="_a_4_4_10_validate_the_get_features_operation_response">A.4.4.10 Validate the Get Features Operation Response</h4>
<h5 id="_a_test_purpose_16">a) Test Purpose:</h5>
<p>Validate the Get Feature Operation Response.</p>
<h5 id="_b_pre_conditions_19">b) Pre-conditions:</h5>
<ul>
<li><p>A collection of Features has been retrieved</p></li>
</ul>
<h5 id="_c_test_method_16">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the structure of the response as follows:</p>
<ul>
<li><p>For HTML use Human inspection</p></li>
<li><p>For GeoJSON use featureCollectionGeoJSON.yaml</p></li>
<li><p>For GML use featureCollectionGML.yaml</p></li>
</ul></li>
<li><p>Validate that the following links are included in the response document:</p>
<ul>
<li><p>To itself</p></li>
<li><p>Alternate encodings of this document in every other media type as identified by the compliance classes for this server.</p></li>
</ul></li>
<li><p>Validate that each link includes a rel and type parameter.</p></li>
<li><p>If a property timeStamp is included in the response, validate that it is close to the current time.</p></li>
<li><p>If a property numberReturned is included in the response, validate that the number is equal to the number of features in the response.</p></li>
<li><p>If a property numberMatched is included in the response, iteratively follow the next links until no next link is included and count the aggregated number of features returned in all responses during the iteration. Validate that the value is identical to the numberMatched stated in the initial response.</p></li>
</ol>
<h5 id="_d_references_19">d) References:</h5>
<p>Requirements 24, 25, 26, 27, 28 and 29</p>
<h4 id="_a_4_4_11_limit_parameter">A.4.4.11 Limit Parameter</h4>
<h5 id="_a_test_purpose_17">a) Test Purpose:</h5>
<p>Validate the proper handling of the limit parameter.</p>
<h5 id="_b_pre_conditions_20">b) Pre-conditions:</h5>
<ul>
<li><p>Tests A.4.4.9 and A.4.4.10 have completed successfully.</p></li>
</ul>
<h5 id="_c_test_method_17">c) Test Method:</h5>
<ol type="1">
<li><p>Verify that the OpenAPI document correctly describes the limit parameter for the Get Features operation.</p></li>
<li><p>Repeat Test A.4.4.9 using different values for the limit parameter.</p></li>
<li><p>For each execution of Test A.4.4.9, repeat Test A.4.4.10 to validate the results.</p></li>
</ol>
<h5 id="_d_references_20">d) References:</h5>
<p>Requirements 18 and 19</p>
<h4 id="_a_4_4_12_bounding_box_parameter">A.4.4.12 Bounding Box Parameter</h4>
<h5 id="_a_test_purpose_18">a) Test Purpose:</h5>
<p>Validate the proper handling of the bbox parameter.</p>
<h5 id="_b_pre_conditions_21">b) Pre-conditions:</h5>
<ul>
<li><p>Tests A.4.4.9 and A.4.4.10 have completed successfully.</p></li>
</ul>
<h5 id="_c_test_method_18">c) Test Method:</h5>
<ol type="1">
<li><p>Verify that the OpenAPI document correctly describes the bbox parameter for the Get Features operation.</p></li>
<li><p>Repeat Test A.4.4.9 using different values for the bbox parameter. These should include test cases which cross the meridian, equator, 180<sup>O</sup> longitude, and polar regions.</p></li>
<li><p>For each execution of Test A.4.4.9, repeat Test A.4.4.10 to validate the results.</p></li>
</ol>
<h5 id="_d_references_21">d) References:</h5>
<p>Requirements 20 and 21</p>
<h4 id="_a_4_4_13_time_parameter">A.4.4.13 Time Parameter</h4>
<h5 id="_a_test_purpose_19">a) Test Purpose:</h5>
<p>Validate the proper handling of the time parameter.</p>
<h5 id="_b_pre_conditions_22">b) Pre-conditions:</h5>
<ul>
<li><p>Tests A.4.4.9 and A.4.4.10 have completed successfully.</p></li>
</ul>
<h5 id="_c_test_method_19">c) Test Method:</h5>
<ol type="1">
<li><p>Verify that the OpenAPI document correctly describes the time parameter for the Get Features operation.</p></li>
<li><p>Repeat Test A.4.4.9 using different values for the time parameter.</p></li>
<li><p>For each execution of Test A.4.4.9, repeat Test A.4.4.10 to validate the results.</p></li>
</ol>
<h5 id="_d_references_22">d) References:</h5>
<p>Requirements 22 and 23</p>
<h4 id="_a_4_4_14_get_feature_operation">A.4.4.14 Get Feature Operation</h4>
<h5 id="_a_test_purpose_20">a) Test Purpose:</h5>
<p>Validate that the Get Feature Operation behaves as required.</p>
<h5 id="_b_pre_conditions_23">b) Pre-conditions:</h5>
<ul>
<li><p>A feature collection name is provided by test A.4.4.6</p></li>
<li><p>A feature identifier is provided by test A.4.4.10</p></li>
<li><p>Path = /collections/{collectionId}/items/(featureId} where {featureId} = the feature identifier</p></li>
</ul>
<h5 id="_c_test_method_20">c) Test Method:</h5>
<p>DO FOR each /collections{collectionId}/items/{featureId} test point</p>
<ul>
<li><p>Issue an HTTP GET request using the test point URI</p></li>
<li><p>Go to test A.4.4.15</p></li>
</ul>
<h5 id="_d_references_23">d) References:</h5>
<p>Requirement 30</p>
<h4 id="_a_4_4_15_validate_the_get_feature_operation_response">A.4.4.15 Validate the Get Feature Operation Response</h4>
<h5 id="_a_test_purpose_21">a) Test Purpose:</h5>
<p>Validate the Get Feature Operation Response.</p>
<h5 id="_b_pre_conditions_24">b) Pre-conditions:</h5>
<ul>
<li><p>The Feature has been retrieved from the server.</p></li>
</ul>
<h5 id="_c_test_method_21">c) Test Method:</h5>
<ol type="1">
<li><p>Validate the structure of the response as follows:</p>
<ul>
<li><p>For HTML use Human Inspection</p></li>
<li><p>For GeoJSON use featureGeoJSON.yaml</p></li>
<li><p>For GML use featureGML.yaml</p></li>
</ul></li>
<li><p>Validate that the following links are included in the response document:</p>
<ul>
<li><p>To itself</p></li>
<li><p>To the Feature Collection which contains this Feature</p></li>
<li><p>Alternate encodings of this document in every other media type as identified by the compliance classes for this server.</p></li>
</ul></li>
<li><p>Validate that all links include the rel and type link parameters.</p></li>
</ol>
<h5 id="_d_references_24">d) References:</h5>
<p>Requirements 31 and 32</p>
<h1 id="_examples_informative">Examples (Informative)</h1>
<h2 id="landing-page-examples">Example Landing Pages</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">    <span class="fu">{</span> <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;http://data.example.org/&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">      <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;self&quot;</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;application/json&quot;</span><span class="fu">,</span> <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;this document&quot;</span> <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5">    <span class="fu">{</span> <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;http://data.example.org/api&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6">      <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;service&quot;</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;application/openapi+json;version=3.0&quot;</span><span class="fu">,</span> <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;the API definition&quot;</span> <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">    <span class="fu">{</span> <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;http://data.example.org/conformance&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">      <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;conformance&quot;</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;application/json&quot;</span><span class="fu">,</span> <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;OGC conformance classes implemented by this API&quot;</span> <span class="fu">}</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9">    <span class="fu">{</span> <span class="dt">&quot;href&quot;</span><span class="fu">:</span> <span class="st">&quot;http://data.example.org/collections&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">      <span class="dt">&quot;rel&quot;</span><span class="fu">:</span> <span class="st">&quot;data&quot;</span><span class="fu">,</span> <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;application/json&quot;</span><span class="fu">,</span> <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Metadata about the resource collections&quot;</span> <span class="fu">}</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="fu">}</span></a></code></pre></div>
<h2 id="conformance-response-examples">Conformance Examples</h2>
<p>This example response in JSON is for an OGC API Features that supports OpenAPI 3.0 for the API definition and HTML and GeoJSON as encodings for resources.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode JSON"><code class="sourceCode json"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  <span class="dt">&quot;conformsTo&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">    <span class="st">&quot;http://www.opengis.net/spec/ogcapi-features-1/1.0/req/core&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">    <span class="st">&quot;http://www.opengis.net/spec/ogcapi-features-1/1.0/req/oas30&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">    <span class="st">&quot;http://www.opengis.net/spec/ogcapi-features-1/1.0/req/html&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6">    <span class="st">&quot;http://www.opengis.net/spec/ogcapi-features-1/1.0/req/geojson&quot;</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="fu">}</span></a></code></pre></div>
<h2 id="collections-metadata-examples">Collections Metadata Examples</h2>
<p>This feature collection metadata example response in JSON is for a dataset with a single collection &quot;buildings&quot;. It includes links to the collection resource in all formats that are supported by the API (<a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">link relation type</a>: &quot;items&quot;).</p>
<p>Representations of the metadata resource in other formats are referenced using <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">link relation type</a> &quot;alternate&quot;.</p>
<p>An additional link is to a GML application schema for the dataset - using:https://www.iana.org/assignments/link-relations/link-relations.xhtml[link relation type] &quot;describedBy&quot;.</p>
<p>Finally there are also links to the license information for the building data (using:https://www.iana.org/assignments/link-relations/link-relations.xhtml[link relation type] &quot;license&quot;).</p>
<p>Reference system information is not provided as the service provides geometries only in the default system (spatial: WGS 84 longitude/latitude; temporal: Gregorian calendar).</p>
<pre><code>{
  &quot;links&quot;: [
    { &quot;href&quot;: &quot;http://data.example.org/collections.json&quot;,
      &quot;rel&quot;: &quot;self&quot;, &quot;type&quot;: &quot;application/json&quot;, &quot;title&quot;: &quot;this document&quot; },
    { &quot;href&quot;: &quot;http://data.example.org/collections.html&quot;,
      &quot;rel&quot;: &quot;alternate&quot;, &quot;type&quot;: &quot;text/html&quot;, &quot;title&quot;: &quot;this document as HTML&quot; },
    { &quot;href&quot;: &quot;http://schemas.example.org/1.0/foobar.xsd&quot;,
      &quot;rel&quot;: &quot;describedBy&quot;, &quot;type&quot;: &quot;application/xml&quot;, &quot;title&quot;: &quot;XML schema for Acme Corporation data&quot; }
  ],
  &quot;collections&quot;: [
    {
      &quot;id&quot;: &quot;buildings&quot;,
      &quot;title&quot;: &quot;Buildings&quot;,
      &quot;description&quot;: &quot;Buildings in the city of Bonn.&quot;,
      &quot;extent&quot;: {
        &quot;spatial&quot;: [ 7.01, 50.63, 7.22, 50.78 ],
        &quot;temporal&quot;: [ &quot;2010-02-15T12:34:56Z&quot;, &quot;2018-03-18T12:11:00Z&quot; ]
      },
      &quot;links&quot;: [
        { &quot;href&quot;: &quot;http://data.example.org/collections/buildings/items&quot;,
          &quot;rel&quot;: &quot;items&quot;, &quot;type&quot;: &quot;application/geo+json&quot;,
          &quot;title&quot;: &quot;Buildings&quot; },
        { &quot;href&quot;: &quot;http://example.org/concepts/building.html&quot;,
          &quot;rel&quot;: &quot;describedBy&quot;, &quot;type&quot;: &quot;text/html&quot;,
          &quot;title&quot;: &quot;Feature catalogue for buildings&quot; }
      ]
    }
  ]
}</code></pre>
<h1 id="_revision_history">Revision History</h1>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 18%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Date</th>
<th>Release</th>
<th>Editor</th>
<th>Primary clauses modified</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>2017-10-09</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>all</p></td>
<td><p>initial version</p></td>
</tr>
<tr class="even">
<td><p>2017-10-11</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>all</p></td>
<td><p>changes discussed in SWG/PT call on 2017-10-09</p></td>
</tr>
<tr class="odd">
<td><p>2017-12-13</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>all</p></td>
<td><p>address issues <a href="https://github.com/opengeospatial/WFS_FES/issues/2">#2</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/5">#5</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/6">#6</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/7">#7</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/8">#8</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/14">#14</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/15">#15</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/19">#19</a></p></td>
</tr>
<tr class="even">
<td><p>2018-01-22</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>7</p></td>
<td><p>add description of the UML diagram</p></td>
</tr>
<tr class="odd">
<td><p>2018-02-01</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>2, 3, 5, 7</p></td>
<td><p>add links to recent issues on GitHub; address issues <a href="https://github.com/opengeospatial/WFS_FES/issues/31">#31</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/32">#32</a></p></td>
</tr>
<tr class="even">
<td><p>2018-02-11</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>2, 6, 7, 8</p></td>
<td><p>address issue <a href="https://github.com/opengeospatial/WFS_FES/issues/25">#25</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-02-27</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>all</p></td>
<td><p>address issues <a href="https://github.com/opengeospatial/WFS_FES/issues/3">#3</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/9">#9</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/12">#12</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/22">#22</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/23">#23</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/24">#24</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/44">#44</a>; add links to issues <a href="https://github.com/opengeospatial/WFS_FES/issues/41">#41</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/45">#45</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/46">#46</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/47">#47</a></p></td>
</tr>
<tr class="even">
<td><p>2018-03-04</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>T. Schaub</p></td>
<td><p>7, B</p></td>
<td><p>JSON schema fixes <a href="https://github.com/opengeospatial/WFS_FES/issues/54">#54</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/55">#55</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-03-12</p></td>
<td><p>3.0.0-SNAPSHOT (for ISO NWIP)</p></td>
<td><p>C. Portele</p></td>
<td><p>all</p></td>
<td><p>Updates after the WFS 3.0 Hackathon <a href="https://github.com/opengeospatial/WFS_FES/issues/59">#59</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/61">#61</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/62">#62</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/63">#63</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/64">#64</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/69">#69</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/72">#72</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/77">#77</a>, <a href="https://github.com/opengeospatial/WFS_FES/issues/78">#78</a>; resolve <a href="https://github.com/opengeospatial/WFS_FES/issues/4">#4</a>; editorial edits</p></td>
</tr>
<tr class="even">
<td><p>2018-03-15</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>J. Amara</p></td>
<td><p>7</p></td>
<td><p>Uniqueness of feature id <a href="https://github.com/opengeospatial/WFS_FES/issues/83">#83</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-03-21</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>I. Rinne</p></td>
<td><p>7</p></td>
<td><p>Clarified the requirement /req/core/crs84 <a href="https://github.com/opengeospatial/WFS_FES/issues/92">#92</a></p></td>
</tr>
<tr class="even">
<td><p>2018-03-28</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>3, 4, 7</p></td>
<td><p>Temporal support <a href="https://github.com/opengeospatial/WFS_FES/issues/57">#57</a>, bbox no longer restricted to CRS84 <a href="https://github.com/opengeospatial/WFS_FES/issues/60">#60</a>, clarify 'collection' <a href="https://github.com/opengeospatial/WFS_FES/issues/86">#86</a>, clarify feature id constraints <a href="https://github.com/opengeospatial/WFS_FES/issues/84">#84</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-04-02</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>7, B</p></td>
<td><p>Clarify 'item' links <a href="https://github.com/opengeospatial/WFS_FES/issues/81">#81</a>, clean up OpenAPI example in Annex B</p></td>
</tr>
<tr class="even">
<td><p>2018-04-03</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>4 to 9</p></td>
<td><p>Clean-up asciidoc <a href="https://github.com/opengeospatial/WFS_FES/issues/100">#100</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-04-04</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>P. Vretanos, C. Portele</p></td>
<td><p>8.4, 8.5, C</p></td>
<td><p>Clarify XML encoding <a href="https://github.com/opengeospatial/WFS_FES/issues/58">#58</a></p></td>
</tr>
<tr class="even">
<td><p>2018-04-05</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Heazel</p></td>
<td><p>A</p></td>
<td><p>Initial version of the Abstract Test Suite <a href="https://github.com/opengeospatial/WFS_FES/issues/112">#112</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-04-05</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>C</p></td>
<td><p>Fix axis order in example <a href="https://github.com/opengeospatial/WFS_FES/issues/113">#113</a></p></td>
</tr>
<tr class="even">
<td><p>2018-04-07</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele</p></td>
<td><p>7, 9, 10</p></td>
<td><p>Add HTTP status code guidance <a href="https://github.com/opengeospatial/WFS_FES/issues/105">#105</a>, add warning about OpenAPI media type <a href="https://github.com/opengeospatial/WFS_FES/issues/117">#117</a></p></td>
</tr>
<tr class="odd">
<td><p>2018-04-07</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Reed, C. Portele</p></td>
<td><p>all</p></td>
<td><p>Edits after review <a href="https://github.com/opengeospatial/WFS_FES/issues/119">#119</a></p></td>
</tr>
<tr class="even">
<td><p>2018-04-07</p></td>
<td><p><strong>3.0.0-draft.1</strong></p></td>
<td><p>C. Portele</p></td>
<td><p>iv, v</p></td>
<td><p>First draft release</p></td>
</tr>
<tr class="odd">
<td><p>2019-02-14</p></td>
<td><p>3.0.0-SNAPSHOT</p></td>
<td><p>C. Portele, C. Holmes</p></td>
<td><p>all</p></td>
<td><p>Bugfixes <a href="https://github.com/opengeospatial/WFS_FES/issues/149">#149</a> and <a href="https://github.com/opengeospatial/WFS_FES/issues/176">#176</a>, change rel=item to rel=items <a href="https://github.com/opengeospatial/WFS_FES/pull/175">#175</a>, use {collectionId}, {featureId} and <code>id</code> consistently <a href="https://github.com/opengeospatial/WFS_FES/pull/171">#171</a></p></td>
</tr>
</tbody>
</table>
<h1 id="Bibliography">Bibliography</h1>
<ul>
<li><p>W3C/OGC: Spatial Data on the Web Best Practices, W3C Working Group Note 28 September 2017, <a href="https://www.w3.org/TR/sdw-bp/">https://www.w3.org/TR/sdw-bp/</a></p></li>
<li><p>W3C: Data on the Web Best Practices, W3C Recommendation 31 January 2017, <a href="https://www.w3.org/TR/dwbp/">https://www.w3.org/TR/dwbp/</a></p></li>
<li><p>W3C: Data Catalog Vocabulary, W3C Recommendation 16 January 2014, <a href="https://www.w3.org/TR/vocab-dcat/">https://www.w3.org/TR/vocab-dcat/</a></p></li>
<li><p>IANA: Link Relation Types, <a href="https://www.iana.org/assignments/link-relations/link-relations.xml">https://www.iana.org/assignments/link-relations/link-relations.xml</a></p></li>
</ul>
