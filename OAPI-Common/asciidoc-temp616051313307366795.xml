<?xml version="1.0" encoding="UTF-8"?><?asciidoc-toc?><?asciidoc-numbered?><article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>Requirement Class "Core"</title>
<date>2019-10-14</date>
</info>
<section xml:id="_requirement_class_core">
<title>Requirement Class "Core"</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rc_core">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="77*"/>
<colspec colname="col_2" colwidth="306*"/>
<tbody>
<row>
<entry align="left" nameend="col_2" namest="col_1" valign="top"><simpara><emphasis role="strong">Requirements Class</emphasis></simpara></entry>
</row>
<row>
<entry align="left" nameend="col_2" namest="col_1" valign="top"><simpara><link xlink:href="http://www.opengis.net/spec/OAPI_Common/1.0/req/core">http://www.opengis.net/spec/OAPI_Common/1.0/req/core</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Target type</simpara></entry>
<entry align="left" valign="top"><simpara>Web API</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Dependency</simpara></entry>
<entry align="left" valign="top"><simpara><link linkend="rfc2616">RFC 2616 (HTTP/1.1)</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Dependency</simpara></entry>
<entry align="left" valign="top"><simpara><link linkend="rfc2818">RFC 2818 (HTTP over TLS)</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Dependency</simpara></entry>
<entry align="left" valign="top"><simpara><link linkend="rfc3339">RFC 3339 (Date and Time on the Internet: Timestamps)</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Dependency</simpara></entry>
<entry align="left" valign="top"><simpara><link linkend="rfc5988">RFC 5988 (Web Linking)</link></simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<section xml:id="core-overview">
<title>Overview</title>
<section xml:id="resources-introduction">
<title>Resources</title>
<simpara>An OGC API provides a lighweight interface to access one or more resources. The resources addressed by OGC APIs fall into three categories; Foundation Resources, Geospatial Resources, and Information Resources.</simpara>
<simpara>Foundation Resources are those resources which are common across all OGC APIs. Those resources are defined in this OGC API-Common standard. Other OGC API standards re-use these resources and, where necessary, extend them to address unique requirements.</simpara>
<simpara>Geospatial Resources are the resource which we usually think of as Geospatial Data. They include Features, Coverages, Maps, and Styles. This Standard defines basic patterns for accessing Geospatial Resources. Additional OGC API Standards have been developed to address specific API requirements for each Geospatial Resource type.</simpara>
<simpara>Information Resources are non-geospatial resources which support the operation of the API or the access and use of the Geospatial Resources.</simpara>
</section>
<section xml:id="modular-API-introduction">
<title>Modular APIs</title>
<simpara>A goal of OGC API standards is to provide rapid and easy access to geospatial resources. To meet this goal, the needs of both the resource provider and the resource consumer must be considered. Our approach is to provide a modular framework of API components. This framework provides a consistent "look and feel" across all OGC APIs. When API servers and clients are built from the same set of modules, the likelyhood that they will integrate at run-time is greatly enhanced.</simpara>
</section>
<section xml:id="navigation-introduction">
<title>Navigation</title>
<simpara>OGC APIs are designed to support two access patterns; Hypermedia Access, and Direct Access. OGC APIs support both access patterns through the use of API Definition documents, standardized paths, and standardized hypermedia schemas.</simpara>
<section xml:id="hypermedia-access-introduction">
<title>Hypermedia Access</title>
<simpara>Hypermedia Access is the use of hypermedia links to navigate from one resource to another. This pattern is typical of the Web Browser environment. A resource consumer (typically a human) starts from a landing page, selects a link on that page, then moves on to the referenced resource.</simpara>
<simpara>Navigation of hyperlinks is facilitated if the hyperlink includes information about the resource type at the link destination. Therefore, OGC APIs will use a set of common link relationships.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_link_relations">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 1</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/link-relations</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>Links used in OGC APIs SHALL use the following link relations:</simpara>
<itemizedlist>
<listitem>
<simpara><literal>alternate</literal>: links to this resource in another media type (the media type is specified in the <literal>type</literal> link attribute)</simpara>
</listitem>
<listitem>
<simpara><literal>conformance</literal>: links to conformance information</simpara>
</listitem>
<listitem>
<simpara><literal>data</literal>: links to an information resource</simpara>
</listitem>
<listitem>
<simpara><literal>describedBy</literal>: links to external resources which further describe the subject resource</simpara>
</listitem>
<listitem>
<simpara><literal>items</literal>: links to each individual resource which is included in a collection resource</simpara>
</listitem>
<listitem>
<simpara><literal>self</literal>: links to this resource,</simpara>
</listitem>
<listitem>
<simpara><literal>service-desc</literal>: links to the API Definition</simpara>
</listitem>
<listitem>
<simpara><literal>service-doc</literal>: an alternative to <literal>service-desc</literal></simpara>
</listitem>
</itemizedlist></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>This requirement does not constrain the use of other link relations for resource types not addressed by this requirement.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>OGC API hyperlinks are defined using the following <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/openapi/schemas/link.json">Hyperlink Schema</link>.</simpara>
<formalpara>
<title>Hyperlink Schema</title>
<para>
<programlisting language="JSON" linenumbering="unnumbered">{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Link Schema",
    "description": "Schema for external references",
    "type": "object",
    "required": [
        "href"
        ],
    "properties": {
        "href": {
            "type": "string"
            },
        "rel": {
            "type": "string"
            },
        "hreflang": {
            "type": "string"
            },
        "title": {
            "type": "string"
            }
        }
    }</programlisting>
</para>
</formalpara>
</section>
<section xml:id="direct-access-introduction">
<title>Direct Access</title>
<simpara>Direct Access requires that the resource consumer possesses knowlege of the path to the resouce prior to attempting access. Typically this knowlege comes from the use of standard paths, receiving the path from another entity, or by processing an API definition resource. Direct access is particularly applicable to software analytics where there is no human in the loop.</simpara>
<simpara>Direct access is facilitated by the use of standard URL paths.</simpara>
<section xml:id="_foundation_resources">
<title>Foundation Resources</title>
<simpara>The standard paths defined in this Standard for Foundation Resources are:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>"/" - the landing page</simpara>
</listitem>
<listitem>
<simpara>"/api" - the API Definition document for this API</simpara>
</listitem>
<listitem>
<simpara>"/conformance" - the conformance information for this API</simpara>
</listitem>
</orderedlist>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_path-conventions">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 1</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/path-conventions</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>Implementations of OGC API standards should comply with OGC conventions on URL paths as follows:</simpara>
<itemizedlist>
<listitem>
<simpara>Landing Page = /</simpara>
</listitem>
<listitem>
<simpara>API Definition = /api</simpara>
</listitem>
<listitem>
<simpara>Conformance = /conformance</simpara>
</listitem>
<listitem>
<simpara>Collections = /collections</simpara>
</listitem>
</itemizedlist></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_geospatial_resources">
<title>Geospatial Resources</title>
<simpara>Geospatial Resources can be exposed using the path template.</simpara>
<literallayout class="monospaced">/collections/{collectionId}/items
      where
{collectionId} = a unique identifier for a resource collection (dataset)</literallayout>
<table colsep="1" frame="all" rowsep="1" xml:id="path_behaviors" xreflabel="Table 1">
<title>Path Behaviors</title>
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="128*"/>
<colspec colname="col_2" colwidth="255*"/>
<thead>
<row>
<entry align="center" valign="top"><emphasis role="strong">Path</emphasis></entry>
<entry align="center" valign="top"><emphasis role="strong">Returns</emphasis></entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>"/collections"</simpara></entry>
<entry align="left" valign="top"><simpara>Metadata describing the collections avalable from this API.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>"/collections/{collectionId}</simpara></entry>
<entry align="left" valign="top"><simpara>Metadata describing the collection with the unique identifier {collectionId}</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>"/collections/{collectionId}/items"</simpara></entry>
<entry align="left" valign="top"><simpara>The collection identified by the {collectionId} parameter.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="_information_resources">
<title>Information Resources</title>
<simpara>Information Resources can exposed using two path templates:</simpara>
<itemizedlist>
<listitem>
<simpara>/collections/{collectionId}/{resourceType}</simpara>
</listitem>
<listitem>
<simpara>/{resourceType}</simpara>
</listitem>
</itemizedlist>
<simpara>Where</simpara>
<simpara>{collectionId} = a unique identifier for a Geospatial Resource collection.</simpara>
<simpara>{resourceType} = a text string identifying the Information Resource type.</simpara>
<simpara>Information Resources associated with a specific collection should be accessed through the <literal>/collections</literal> path. Those which are not associated with a specific collection should use the <literal>/{resourceType}</literal> template.</simpara>
<simpara>The OGC API Information Resource types and their corresponding API standard are provided in <xref linkend="information_resources"/></simpara>
<table colsep="1" frame="all" rowsep="1" xml:id="information_resources" xreflabel="Table 2">
<title>Information Resource Types</title>
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="128*"/>
<colspec colname="col_2" colwidth="255*"/>
<thead>
<row>
<entry align="center" valign="top"><emphasis role="strong">Resource Type</emphasis></entry>
<entry align="center" valign="top"><emphasis role="strong">API Standard</emphasis></entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>TBD</simpara></entry>
<entry align="left" valign="top"><simpara>TBD</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
</section>
</section>
</section>
<section xml:id="foundation-resources">
<title>Foundation Resources</title>
<simpara>Foundation resources are those resources which are provided by every OGC API.</simpara>
<section xml:id="landing-page">
<title>API landing page</title>
<simpara>Each OGC API has a single <literal>LandingPage</literal> (path <literal>/</literal>).</simpara>
<simpara>The purpose of the landing page is to provide users with the basic information they need to use this API as well as links to the resources exposed through the API.</simpara>
<section xml:id="_operation">
<title>Operation</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_root-op">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 2</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/root-op</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The server SHALL support the HTTP GET operation at the path <literal>/</literal>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_response">
<title>Response</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_root-success">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 3</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/root-success</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A successful execution of the operation SHALL be reported as a response with an HTTP status code <literal>200</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The content of that response SHALL be based upon the schema <link xlink:href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/landingPage.json">landingPage.json</link> and include links to the following resources:</simpara>
<itemizedlist>
<listitem>
<simpara>the API definition (relation type 'service-desc' or 'service-doc')</simpara>
</listitem>
<listitem>
<simpara><literal>/conformance</literal> (relation type 'conformance')</simpara>
</listitem>
<listitem>
<simpara>one or more information resources (relation type 'data')</simpara>
</listitem>
</itemizedlist></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>In addition to the required resources, links to additional resources may be included in the Landing Page.</simpara>
<simpara>The landing page returned by this operation is based on the following <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/openapi/schemas/landingPage.json">Landing Page Schema</link>. Examples of OGC landing pages are provided in <xref linkend="landing-page-examples"/>.</simpara>
<formalpara>
<title>Landing Page Schema</title>
<para>
<programlisting language="JSON" linenumbering="unnumbered">{
"$schema": "http://json-schema.org/draft-07/schema#",
"title": "Landing Page Schema",
"description": "JSON schema for the OGC API-Common landing page",
"type": "object",
"required": [
    "links"
    ],
"properties": {
    "title": {
        "description": "The title of the API",
        "type": "string"
        },
    "description": {
        "description": "A textual description of the API",
        "type": "string"
        },
    "links": {
        "description": "Links to the resources exposed through this API.",
        "type": "array",
        "items": {"$href": "link.json"}
        }
    },
    "patternProperties": {
        "^x-": {}
    },
    "additionalProperties": true
}</programlisting>
</para>
</formalpara>
</section>
<section xml:id="_error_situations">
<title>Error Situations</title>
<simpara>See <xref linkend="http_status_codes"/> for general guidance.</simpara>
</section>
</section>
<section xml:id="API-definition">
<title>API Definition</title>
<simpara>Every API is expected to provide a definition that describes capabilities provided by the API. This document can be used by developers to understand the API, by software clients to connect to the server, and by development tools to support the implementation of servers and clients.</simpara>
<section xml:id="_operation_2">
<title>Operation</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_api-definition-op">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 4</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/api-definition-op</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The URIs of all API definitions referenced from the landing page SHALL support the HTTP GET method.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_response_2">
<title>Response</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_api-definition-success">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 5</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/api-definition-success</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A GET request to the URI of an API definition linked from the landing page (link relations <literal>service-desc</literal> or <literal>service-doc</literal>) with an <literal>Accept</literal> header with the value of the link property <literal>type</literal> SHALL return a document consistent with the requested media type.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_api-definition-oas">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 2</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/api-definition-oas</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If the API definition document uses the OpenAPI Specification 3.0, the document SHOULD conform to the <link linkend="rc_oas30">OpenAPI Specification 3.0 requirements class</link>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>If multiple API definition formats are supported, use content negotiation to select the desired representation.</simpara>
</section>
<section xml:id="_error_situations_2">
<title>Error Situations</title>
<simpara>See <xref linkend="http_status_codes"/> for general guidance.</simpara>
</section>
</section>
<section xml:id="conformance-classes">
<title>Declaration of Conformance Classes</title>
<simpara>To support "generic" clients that want to accessing OGC APIs in general - and not "just" a specific API / server, the API has to declare the requirements classes it implements and conforms to.</simpara>
<section xml:id="_operation_3">
<title>Operation</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_conformance-op">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 6</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/conformance-op</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The API SHALL support the HTTP GET operation at the path <literal>/conformance</literal>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_response_3">
<title>Response</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_conformance-success">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 7</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/conformance-success</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A successful execution of the operation SHALL be reported as a response with a HTTP status code <literal>200</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The content of that response SHALL be based upon the OpenAPI 3.0 schema <link xlink:href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/confClasses.yaml">confClasses.yaml</link> and list all OGC API conformance classes that the API conforms to.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>The conformance resource returned by this operation is based on the following <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/confClasses.json">Conformance Schema</link>. Examples of OGC conformance resources are provided in <xref linkend="conformance-response-examples"/>.</simpara>
<formalpara>
<title>Conformance Schema</title>
<para>
<programlisting language="JSON" linenumbering="unnumbered">{
"$schema": "http://json-schema.org/draft-07/schema#",
"title": "Conformance Classes Schema",
"description": "This schema defines the resource returned from the /Conformance path",
"type": "object",
"required": [
    "conformsTo"
    ],
"properties": {
    "conformsTo": {
        "type": "array",
        "description": "ConformsTo is an array of URLs.  Each URL should correspond to a defined OGC Conformance class.  Unrecognized URLs should be ignored",
        "items": {
            "type": "string",
            "example": "http://www.opengis.net/spec/OAPI_Common/1.0/req/core"
            }
        }
    }
}</programlisting>
</para>
</formalpara>
</section>
<section xml:id="_error_situations_3">
<title>Error situations</title>
<simpara>See <xref linkend="http_status_codes"/> for general guidance.</simpara>
</section>
</section>
</section>
<section xml:id="geospatial-resources">
<title>Geospatial Resources</title>
<simpara>Geospatial Resources are the resource types which we usually think of as Geospatial Data. They include Features, Coverages, Maps, and Styles.</simpara>
<simpara>Detailed requirements for each Geospatial Resource type are dealt with in the resource-specific API standards. However, this API Common standard has the responsiblity to see that they all OGC API standards work together by:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Providing specifications for the description of each collection (/collections/{collectionId}), and the list of collections (/collections)</simpara>
</listitem>
<listitem>
<simpara>Providing a consistent framework for serving geospatial data from the OGC API, regardless of the type. Consistent means that #1 works exactly the same (potentially with type-specific additional properties) and that the different types of data can all be collections on the same OGC API end-point.</simpara>
</listitem>
<listitem>
<simpara>Providing a tie point for other OGC API modules to connect to and reference (processes inputs &amp; outputs, cataloging, searching and filtering collections, detailed metadata, tiles, styles, clipping and intersecting bounding boxes in common) Just by virtue of understanding that /collections/{collectionId} points to a geospatial(--dataset--) <emphasis role="strong">data layer</emphasis>.</simpara>
</listitem>
</orderedlist>
<section xml:id="collections-metadata">
<title>Collections Metadata</title>
<simpara>OGC APIs typically organize their Geospatial Resources into collections. These collections are accessed through the /collections path.</simpara>
<section xml:id="_operation_4">
<title>Operation</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-md-op">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 8</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-md-op</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The API SHALL support the HTTP GET operation at the path <literal>/collections</literal>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_response_4">
<title>Response</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-md-success">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 9</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-md-success</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A successful execution of the operation SHALL be reported as a response with a HTTP status code <literal>200</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The content of that response SHALL be based upon the OpenAPI 3.0 schema <link xlink:href="https://raw.githubusercontent.com/opengeospatial/oapi_common/master/OAPI-Common/openapi/schemas/collections.yaml">collections.yaml</link>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>The collections metadata returned by this operation is based on the <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/collections.yaml">Collections Metadata Schema</link>. Examples of collections metadata are provided in <xref linkend="collections-metadata-examples"/>.</simpara>
<formalpara>
<title>Collections Metadata Schema</title>
<para>
<programlisting language="JSON" linenumbering="unnumbered">{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Collections Schema",
    "description": "This schema defines metadata resource returned from /collections.",
    "type": "object",
    "required": [
        "links",
        "collections"
        ],
    "properties": {
        "links": {
            "type": "array",
            "items": {"$href": "link.json"}
            },
        "collections": {
            "type": "array",
            "items": {"$href": "collectionInfo.json"}
            }
        }
    }</programlisting>
</para>
</formalpara>
<simpara>This schema is further constrained by the following requirements and recomendations.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-md-links">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 10</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-md-links</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A <literal>200</literal>-response SHALL include the following links in the <literal>links</literal> property of the response:</simpara>
<itemizedlist>
<listitem>
<simpara>a link to this response document (relation: <literal>self</literal>),</simpara>
</listitem>
<listitem>
<simpara>a link to the response document in every other media type supported by the API (relation: <literal>alternate</literal>).</simpara>
</listitem>
</itemizedlist></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>All links SHALL include the <literal>rel</literal> and <literal>type</literal> link parameters.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_rc-md-desciptions">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recomendation 3</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/rc-md-desciptions</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If external schemas or descriptions for the dataset exist that provide information about the structure or semantics of the data, a <literal>200</literal>-response SHOULD include links to each of those resources in the <literal>links</literal> property of the response (relation: <literal>describedBy</literal>).</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The <literal>type</literal> link parameter SHOULD be provided for each link. This applies to resources that describe to the whole dataset.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>C</simpara></entry>
<entry align="left" valign="top"><simpara>For resources that describe the contents of a resource collection, the links SHOULD be set in the <literal>links</literal> property of the appropriate object in the <literal>collections</literal> resource.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>Examples for descriptions are: XML Schema, Schematron, JSON Schema, RDF Schema, OWL, SHACL, a feature catalogue, etc.</simpara>
<simpara>The <literal>collections</literal> property of the Collections Metadata is based on the schema described in <xref linkend="collection-information"/>. The follwing requirements and recommendations govern the use of Collection Information in the Collections Metadata.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-md-items">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 11</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-md-items</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>For each resource collection provided through this API, metadata describing that collection SHALL be provided in the property <literal>collections</literal>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="per_core_rc-md-items">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Permission 1</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/per/core/rc-md-items</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>To support servers with many collections, servers MAY limit the number of items included in the <literal>collections</literal> property.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-md-items-links">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 12</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-md-items-links</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>For each resource collection included in the response, the <literal>links</literal> property of the collection SHALL include an item for each supported encoding with a link to the collection resource (relation: <literal>items</literal>).</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>All links SHALL include the <literal>rel</literal> and <literal>type</literal> properties.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_error_situations_4">
<title>Error situations</title>
<simpara>See <xref linkend="http_status_codes"/> for general guidance.</simpara>
</section>
</section>
<section xml:id="collection-information">
<title>Collection Information</title>
<simpara>Each resource collection is described by a set of metadata. That metadata is accessed directly using the <literal>/collections/{collectionId}</literal> path or as an entry in the <literal>collections</literal> property of the Collections Metadata resource.</simpara>
<section xml:id="_operation_5">
<title>Operation</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_src-md-op">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 13</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/src-md-op</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If the API is exposing more than one collection of the same resouce type, then the API SHALL support the HTTP GET operation at the path <literal>/collections/{collectionId}</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The parameter <literal>collectionId</literal> is each <literal>id</literal> property in the resource collections response (JSONPath: <literal>$.collections[*].id</literal>).</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_response_5">
<title>Response</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_src-md-success">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 14</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/src-md-success</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A successful execution of the operation SHALL be reported as a response with a HTTP status code <literal>200</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The content of that response SHALL be consistent with the content for this resource collection in the <literal>/collections</literal> response. That is, the values for <literal>id</literal>, <literal>title</literal>, <literal>description</literal> and <literal>extent</literal> SHALL be identical.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>Collection Information is based on the <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/collectionInfo.yaml">Collection Information Schema</link> Schema.</simpara>
<formalpara>
<title>Collection Information Schema</title>
<para>
<programlisting language="JSON" linenumbering="unnumbered">{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Collections Schema",
    "description": "This schema defines metadata resource returned from /collections/{collectionId}.",
    "type": "object",
    "required": [
        "id",
        "links"
        ],
    "properties": {
        "id": {
          "type": "string"
          },
        "title": {
            "type": "string"
            },
        "description": {
            "type": "string"
            },
        "links": {
            "type": "array",
            "items": {"$href": "link.json"}
            },
        "extent": {"$href": "bbox.yaml"},
        "crs": {
            "description": "the list of coordinate reference systems supported by the API; the first item is the default coordinate reference system",
            "type": "array",
            "items": {
                "type": "string"
                },
            "default": [
                "http://www.opengis.net/def/crs/OGC/1.3/CRS84"
                ],
            "example": [
                "http://www.opengis.net/def/crs/OGC/1.3/CRS84",
                "http://www.opengis.net/def/crs/EPSG/0/4326"
                ]
            }
        }
    }</programlisting>
</para>
</formalpara>
<simpara>Additional requirements and recomendations apply to the <literal>extent</literal> propery of the Collection Information.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-md-extent">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 15</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-md-extent</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>For each resource collection, the <literal>extent</literal> property, if provided, SHALL provide bounding boxes that include all spatial geometries and time intervals that include all temporal geometries in this collection. The temporal extent may use <literal>null</literal> values to indicate an open time interval.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>If a resource has multiple properties with spatial or temporal information, it is the decision of the API implementation whether only a single spatial or temporal geometry property is used to determine the extent or all relevant geometries.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_rc-md-extent-single">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 4</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/rc-md-extent-single</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>While the spatial and temporal extents support multiple bounding boxes (<literal>bbox</literal> array) and time intervals (<literal>interval</literal> array) for advanced use cases, implementations SHOULD provide only a single bounding box or time interval unless the use of multiple values is important for the use of the dataset and agents using the API are known to be support multiple bounding boxes or time intervals.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="per_core_rc-md-extent-extensions">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Permission 2</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/per/core/rc-md-extent-extensions</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The Core only specifies requirements for spatial and temporal extents. However, the <literal>extent</literal> object MAY be extended with additional members to represent other extents, for example, thermal or pressure ranges.<?asciidoc-br?></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The Core only supports spatial extents in WGS84 longitude/latitude andtemporal extents in the   calendar (these are the only enum values in <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/schemas/">extent.yaml</link>).</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>C</simpara></entry>
<entry align="left" valign="top"><simpara>Extensions to the Core MAY add additional reference systems to the <literal>extent</literal> object.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_error_situations_5">
<title>Error situations</title>
<simpara>See <xref linkend="http_status_codes"/> for general guidance.</simpara>
<simpara>If the parameter <literal>collectionId</literal> does not exist on the server, the status code of the response will be <literal>404</literal> (see <xref linkend="status_codes"/>).</simpara>
</section>
</section>
<section xml:id="collection-resource">
<title>Collection Resource</title>
<simpara>A collection resource is the content of the collection as opposed to metadata about that collection. This standard defines the general behavior of this operation, but detailed requirements are the purvue of the API standard for that resource type.</simpara>
<section xml:id="_operation_6">
<title>Operation</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-op">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 16</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-op</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>For every resource collection identified in the resource collections response (path <literal>/collections</literal>), the API SHALL support the HTTP GET operation at the path <literal>/collections/{collectionId}/items</literal>.</simpara>
<itemizedlist>
<listitem>
<simpara>The parameter <literal>collectionId</literal> is each <literal>id</literal> property in the resource collections response (JSONPath: <literal>$.collections[*].id</literal>).</simpara>
</listitem>
</itemizedlist></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_response_6">
<title>Response</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-response">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 17</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-response</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>A successful execution of the operation SHALL be reported as a response with a HTTP status code <literal>200</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>The response SHALL only include resources selected by the request.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_error_situations_6">
<title>Error situations</title>
<simpara>See <xref linkend="http_status_codes"/> for general guidance.</simpara>
</section>
</section>
</section>
<section xml:id="information-resources">
<title>Information Resources</title>
<simpara>Information Resources are non-geospatial resources which support the operation of the API or the access and use of the Geospatial Resources. These resources are usually specific to a geospatial resource type and will be defined in the appropriate API standards.</simpara>
</section>
<section xml:id="_parameter_modules">
<title>Parameter Modules</title>
<simpara>Query parameters are used in URLs to limit the resources which are returned on a GET request. The API Common standard defines two standard parameters for use in OGC API standards.</simpara>
<section xml:id="_parameter_bbox">
<title>Parameter bbox</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-bbox-definition">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 18</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-bbox-definition</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The <literal>bbox</literal> parameter SHALL possess the following characteristics (using an OpenAPI Specification 3.0 fragment):</simpara>
<programlisting language="YAML" linenumbering="unnumbered">name: bbox
in: query
required: false
schema:
  type: array
  minItems: 4
  maxItems: 6
  items:
    type: number
style: form
explode: false</programlisting></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-bbox-response">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 19</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-bbox-response</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If the <literal>bbox</literal> parameter is provided, only resources that have a spatial geometry that intersects the bounding box SHALL be part of the result set.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>If a resource has multiple spatial geometry properties, it is the decision of the server whether only a single spatial geometry property is used to determine the extent or all relevant geometries.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>C</simpara></entry>
<entry align="left" valign="top"><simpara>The <literal>bbox</literal> parameter SHALL also match all resources in the collection that are not associated with a spatial geometry.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>D</simpara></entry>
<entry align="left" valign="top"><simpara>The bounding box is provided as four or six numbers, depending on whether the coordinate reference system includes a vertical axis (height or depth):</simpara>
<itemizedlist>
<listitem>
<simpara>Lower left corner, coordinate axis 1</simpara>
</listitem>
<listitem>
<simpara>Lower left corner, coordinate axis 2</simpara>
</listitem>
<listitem>
<simpara>Lower left corner, coordinate axis 3 (optional)</simpara>
</listitem>
<listitem>
<simpara>Upper right corner, coordinate axis 1</simpara>
</listitem>
<listitem>
<simpara>Upper right corner, coordinate axis 2</simpara>
</listitem>
<listitem>
<simpara>Upper right corner, coordinate axis 3 (optional)</simpara>
</listitem>
</itemizedlist></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>C</simpara></entry>
<entry align="left" valign="top"><simpara>The coordinate reference system of the values on axis 1 and 2 SHALL be interpreted as WGS84 longitude/latitude (<link xlink:href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</link>) unless a  different coordinate reference system is specified in a parameter <literal>bbox-crs</literal>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>D</simpara></entry>
<entry align="left" valign="top"><simpara>The coordinate values SHALL be within the extent specified for the coordinate reference system.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>"Intersects" means that the rectangular area specified in the parameter <literal>bbox</literal> includes a coordinate that is part of the (spatial) geometry of the resource. This includes the boundaries of the geometries (e.g. for curves the start and end position and for surfaces the outer and inner rings).</simpara>
<simpara>This standard does not specify requirements for the parameter <literal>bbox-crs</literal>. Those requirements will be specified in a latter version of this specification.</simpara>
<simpara>For WGS84 longitude/latitude the bounding box is in most cases the sequence of minimum longitude, minimum latitude, maximum longitude and maximum latitude. However, in cases where the  box spans the anti-meridian the first value (west-most box edge) is larger than the third value (east-most box edge).</simpara>
<example>
<title>The bounding box of the New Zealand Exclusive Economic Zone</title>
<simpara>The bounding box of the New Zealand Exclusive Economic Zone in WGS84 (from 160.6°E to 170°W and from 55.95°S to 25.89°S) would be represented in JSON as <literal>[ 160.6, -55.95, -170, -25.89 ]</literal> and in a query as <literal>bbox=160.6,-55.95,-170,-25.89</literal>.</simpara>
</example>
<simpara>A template for the definition of the parameter in YAML according to OpenAPI 3.0 is available at <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/parameters/bbox.yaml">bbox.yaml</link>.</simpara>
</section>
<section xml:id="_parameter_datetime">
<title>Parameter datetime</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-time-definition">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 20</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-time-definition</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The <literal>datetime</literal> parameter SHALL have the following characteristics (using an OpenAPI Specification 3.0 fragment):</simpara>
<programlisting language="YAML" linenumbering="unnumbered">name: datetime
in: query
required: false
schema:
  type: string
style: form
explode: false</programlisting></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_rc-time-response">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 21</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/rc-time-response</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If the <literal>datetime</literal> parameter is provided, only resources that have a temporal geometry that intersects the temporal information in the <literal>datetime</literal> parameter SHALL be part of the result set.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>If a resourcee has multiple temporal properties, it is the decision of the API whether only a single temporal property is used to determine the extent or all relevant temporal properties.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>C</simpara></entry>
<entry align="left" valign="top"><simpara>The <literal>datetime</literal> parameter SHALL match all resources in the collection that are not associated with a temporal geometry.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>D</simpara></entry>
<entry align="left" valign="top"><simpara>The temporal information is either a date-time or a time interval. The parameter value SHALL conform to the following syntax (using <link xlink:href="https://tools.ietf.org/html/rfc2234">ABNF</link>):</simpara>
<programlisting language="java" linenumbering="unnumbered">interval-closed     = date-time "/" date-time
interval-open-start = "../" date-time
interval-open-end   = date-time "/.."
interval            = interval-closed / interval-open-start / interval-open-end
datetime            = date-time / interval</programlisting></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>E</simpara></entry>
<entry align="left" valign="top"><simpara>The syntax of <literal>date-time</literal> is specified by <link xlink:href="https://tools.ietf.org/html/rfc3339#section-5.6">RFC 3339, 5.6</link>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>F</simpara></entry>
<entry align="left" valign="top"><simpara>Open ranges in time intervals at the start or end SHALL be supported using a double-dot (<literal>..</literal>).</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>"Intersects" means that the time (instant or period) specified in the parameter <literal>datetime</literal> includes a timestamp that is part of the temporal geometry of the resource (again, a time instant or period). For time periods this includes the start and end time.</simpara>
<example>
<title>A date-time</title>
<simpara>February 12, 2018, 23:20:52 GMT:</simpara>
<simpara><literal>time=2018-02-12T23%3A20%3A52Z</literal></simpara>
</example>
<simpara>For resources with a temporal property that is a timestamp (like <literal>lastUpdate</literal> in the building features), a date-time value would match all resources where the temporal property is identical.</simpara>
<simpara>For resources with a temporal property that is a date or a time interval, a date-time value would match all resources where the timestamp is on that day or within the time interval.</simpara>
<example>
<title>Intervals</title>
<simpara>February 12, 2018, 00:00:00 GMT to March 18, 2018, 12:31:12 GMT:</simpara>
<simpara><literal>datetime=2018-02-12T00%3A00%3A00Z%2F2018-03-18T12%3A31%3A12Z</literal></simpara>
<simpara>February 12, 2018, 00:00:00 UTC or later:</simpara>
<simpara><literal>datetime=2018-02-12T00%3A00%3A00Z%2F..</literal></simpara>
<simpara>March 18, 2018, 12:31:12 UTC or earlier:</simpara>
<simpara><literal>datetime=..%2F2018-03-18T12%3A31%3A12Z</literal></simpara>
</example>
<simpara>A template for the definition of the parameter in YAML according to OpenAPI 3.0 is available at <link xlink:href="https://raw.githubusercontent.com/opengeospatial/OAPI_Common/master/core/openapi/parameters/datetime.yaml">datetime.yaml</link>.</simpara>
</section>
</section>
<section xml:id="general-requirements">
<title>General Requirements</title>
<simpara>The following general requirements and recomendations apply to all OGC APIs.</simpara>
<section xml:id="_http_1_1">
<title>HTTP 1.1</title>
<simpara>The standards used for Web APIs are built on the HTTP protocol. Therefore, conformance with HTTP or a closely related protocol is required.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_http">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 22</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/http</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The API SHALL conform to <link linkend="rfc2616">HTTP 1.1</link>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>If the API supports HTTPS, then the API SHALL also conform to <link linkend="rfc2818">HTTP over TLS</link>.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="http_status_codes">
<title>HTTP Status Codes</title>
<simpara><xref linkend="status_codes"/> lists the main HTTP status codes that clients should be prepared to receive. This includes support for specific security schemes or URI redirection. In addition, other error situations may occur in the transport layer outside of the server.</simpara>
<table colsep="1" frame="all" rowsep="1" xml:id="status_codes" xreflabel="Table 3">
<title>Typical HTTP status codes</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="15*"/>
<colspec colname="col_2" colwidth="85*"/>
<thead>
<row>
<entry align="left" valign="top">Status code</entry>
<entry align="left" valign="top">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>200</literal></simpara></entry>
<entry align="left" valign="top"><simpara>A successful request.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>304</literal></simpara></entry>
<entry align="left" valign="top"><simpara>An <link linkend="web_caching">entity tag was provided in the request</link> and the resource has not been changed since the previous request.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>400</literal></simpara></entry>
<entry align="left" valign="top"><simpara>The server cannot or will not process the request due to an apparent client error. For example, a query parameter had an incorrect value.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>401</literal></simpara></entry>
<entry align="left" valign="top"><simpara>The request requires user authentication. The response includes a <literal>WWW-Authenticate</literal> header field containing a challenge applicable to the requested resource.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>403</literal></simpara></entry>
<entry align="left" valign="top"><simpara>The server understood the request, but is refusing to fulfill it. While status code <literal>401</literal> indicates missing or bad authentication, status code <literal>403</literal> indicates that authentication is not the issue, but the client is not authorised to perform the requested operation on the resource.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>404</literal></simpara></entry>
<entry align="left" valign="top"><simpara>The requested resource does not exist on the server. For example, a path parameter had an incorrect value.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>405</literal></simpara></entry>
<entry align="left" valign="top"><simpara>The request method is not supported. For example, a POST request was submitted, but the resource only supports GET requests.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>406</literal></simpara></entry>
<entry align="left" valign="top"><simpara>The <literal>Accept</literal> header submitted in the request did not support any of the media types supported by the server for the requested resource.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>500</literal></simpara></entry>
<entry align="left" valign="top"><simpara>An internal error occurred in the server.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>More specific guidance is provided for each resource, where applicable.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="per_core_additional-status-codes">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Permission 3</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/per/core/additional-status-codes</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>Servers MAY support other capabilities of the HTTP protocol and, therefore, MAY return other status codes than those listed in <xref linkend="status_codes"/>, too.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="web_caching">
<title>Web Caching</title>
<simpara>Entity tags are a mechanism for web cache validation and for supporting conditional requests to reduce network traffic. Entity tags are specified by <link linkend="rfc2616">HTTP/1.1 (RFC 2616)</link>.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_etag">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 5</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/etag</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>The service SHOULD support entity tags and the associated headers as specified by HTTP/1.1.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="cross_origin">
<title>Support for Cross-Origin Requests</title>
<simpara>Access to data from a HTML page is by default prohibited for security reasons, if the data is located on another host than the webpage ("same-origin policy"). A typical example is a web-application accessing feature data from multiple distributed datasets.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_cross-origin">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 6</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/cross-origin</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If the server is intended to be accessed from the browser, cross-origin requests SHOULD be supported. Note that support can also be added in a proxy layer on top of the server.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>Two common mechanisms to support cross-origin requests are:</simpara>
<itemizedlist>
<listitem>
<simpara><link xlink:href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross-origin resource sharing (CORS)</link></simpara>
</listitem>
<listitem>
<simpara><link xlink:href="https://en.wikipedia.org/wiki/JSONP">JSONP (JSON with padding)</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="_encodings">
<title>Encodings</title>
<simpara>While the OAPI Common standard does not specify any mandatory encoding, the following encodings are recommended. See <link linkend="overview">Clause 6 (Overview)</link> for a discussion.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_html">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 7</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/html</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>To support browsing a API with a web browser and to enable search engines to crawl and index the dataset, implementations SHOULD consider to support an HTML encoding.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_geojson">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 8</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/geojson</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>If the resource can be represented for the intended use in GeoJSON, implementations SHOULD consider to support GeoJSON as an encoding.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara><link linkend="_http_1_1">Requirement <literal>/req/core/http</literal></link> implies that the encoding of a response is determined using content negotiation as specified by the HTTP RFC.</simpara>
<simpara>The section <link linkend="mediatypes">Media Types</link> includes guidance on media types for <link linkend="encodings">encodings</link> that are specified in this document.</simpara>
<simpara>Note that any API that supports multiple encodings will have to support a mechanism to mint encoding-specific URIs for resources in order to express links, for example, to alternate representations of the same resource. This document does not mandate any particular approach how this is supported by the API.</simpara>
<simpara>As clients simply need to dereference the URI of the link, the implementation details and the mechanism how the encoding is included in the URI of the link are not important. Developers interested in the approach of a particular implementation, for example, to manipulate ("hack") in the browser address bar, can study the API definition.</simpara>
<note>
<simpara>Two common approaches are:</simpara>
<itemizedlist>
<listitem>
<simpara>an additional path for each encoding of each resource (this can be expressed, for example, using format specific suffixes like ".html");</simpara>
</listitem>
<listitem>
<simpara>an additional query parameter (for example, "accept" or "f") that overrides the Accept header of the HTTP request.</simpara>
</listitem>
</itemizedlist>
</note>
</section>
<section xml:id="_link_headers">
<title>Link Headers</title>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="rec_core_link-header">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Recommendation 9</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/rec/core/link-header</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>Links included in payload of responses SHOULD also be included as <literal>Link</literal> headers in the HTTP response according to <link linkend="rfc5988">RFC 8288, Clause 3</link>.</simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>B</simpara></entry>
<entry align="left" valign="top"><simpara>This recommendation does not apply, if there are a large number of links included in a response or a link is not known when the HTTP headers of the response are created.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
</section>
<section xml:id="_coordinate_reference_systems">
<title>Coordinate Reference Systems</title>
<simpara>As discussed in Chapter 9 of the <link linkend="SDWBP">W3C/OGC Spatial Data on the Web Best Practices document</link>, how to express and share the location of resources in a consistent way is one of the most fundamental aspects of publishing geographic data and it is important to be clear about the coordinate reference system that coordinates are in.</simpara>
<simpara>For the reasons discussed in the Best Practices, OGC APIs use WGS84 longitude and latitude as the default coordinate reference system.</simpara>
<informaltable colsep="1" frame="all" rowsep="1" xml:id="req_core_crs84">
<?dbhtml table-width="90%"?>
<?dbfo table-width="90%"?>
<?dblatex table-width="90%"?>
<tgroup cols="2">
<colspec colname="col_1" colwidth="96*"/>
<colspec colname="col_2" colwidth="287*"/>
<tbody>
<row>
<entry align="center" valign="top"><simpara><emphasis role="strong">Requirement 23</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">/req/core/crs84</emphasis></simpara></entry>
</row>
<row>
<entry align="center" valign="top"><simpara>A</simpara></entry>
<entry align="left" valign="top"><simpara>Unless the client explicitly requests a different coordinate reference system, all spatial geometries SHALL be in the coordinate reference system <link xlink:href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</link> (WGS 84 longitude/latitude) for geometries without height information and <link xlink:href="http://www.opengis.net/def/crs/OGC/0/CRS84h">http://www.opengis.net/def/crs/OGC/0/CRS84h</link> (WGS 84 longitude/latitude plus ellipsoidal height) for geometries with height information.</simpara></entry>
</row>
</tbody>
</tgroup>
</informaltable>
<simpara>The implementations compliant with the Core are not required to support publishing geometries in coordinate reference systems other than <link xlink:href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</link>. The Core also does not specify a capability to request geometries in a different reference system than the native one of the published resource. Such a capability will be specified in other OGC API standards.</simpara>
</section>
</section>
</section>
</article>